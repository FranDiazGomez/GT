/*! VisiWinJS | INOSOFT GmbH | 73.7.74.0 + 2024-06-07 */

VisiWin.Application.modulVersion("VisiWinJS.js","73.7.74.0","2024-06-07"),function(a,c,d,tt){"use strict";function e(a,c,d){return setTimeout(j(a,d),c)}function f(a,c,d){return!!Array.isArray(a)&&(g(a,d[c],d),!0)}function g(a,c,d){var et;if(a)if(a.forEach)a.forEach(c,d);else if(a.length!==tt)for(et=0;et<a.length;)c.call(d,a[et],et,a),et++;else for(et in a)a.hasOwnProperty(et)&&c.call(d,a[et],et,a)}function h(c,d,tt){var et="DEPRECATED METHOD: "+d+"\n"+tt+" AT \n";return function(){var d=new Error("get-stack-trace"),tt=d&&d.stack?d.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",nt=a.console&&(a.console.warn||a.console.log);return nt&&nt.call(a.console,et,tt),c.apply(this,arguments)}}function i(a,c,d){var tt,nt=c.prototype;(tt=a.prototype=Object.create(nt)).constructor=a,tt._super=nt,d&&et(tt,d)}function j(a,c){return function(){return a.apply(c,arguments)}}function k(a,c){return typeof a==it?a.apply(c&&c[0]||tt,c):a}function l(a,c){return a===tt?c:a}function m(a,c,d){g(q(c),(function(c){a.addEventListener(c,d,!1)}))}function n(a,c,d){g(q(c),(function(c){a.removeEventListener(c,d,!1)}))}function o(a,c){for(;a;){if(a==c)return!0;a=a.parentNode}return!1}function p(a,c){return a.indexOf(c)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,c,d){if(a.indexOf&&!d)return a.indexOf(c);for(var tt=0;tt<a.length;){if(d&&a[tt][d]==c||!d&&a[tt]===c)return tt;tt++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,c,d){for(var tt=[],et=[],nt=0;nt<a.length;){var rt=c?a[nt][c]:a[nt];r(et,rt)<0&&tt.push(a[nt]),et[nt]=rt,nt++}return d&&(tt=c?tt.sort((function(a,d){return a[c]>d[c]})):tt.sort()),tt}function u(a,c){for(var d,et,rt=c[0].toUpperCase()+c.slice(1),it=0;it<nt.length;){if((et=(d=nt[it])?d+rt:c)in a)return et;it++}return tt}function w(c){var d=c.ownerDocument||c;return d.defaultView||d.parentWindow||a}function x(a,c){var d=this;this.manager=a,this.callback=c,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(c){k(a.options.enable,[a])&&d.handler(c)},this.init()}function z(a,c,d){var tt=d.pointers.length,et=d.changedPointers.length,nt=c&vt&&tt-et==0,rt=c&(xt|bt)&&tt-et==0;d.isFirst=!!nt,d.isFinal=!!rt,nt&&(a.session={}),d.eventType=c,function A(a,c){var d=a.session,tt=c.pointers,et=tt.length;d.firstInput||(d.firstInput=D(c)),et>1&&!d.firstMultiple?d.firstMultiple=D(c):1===et&&(d.firstMultiple=!1);var nt=d.firstInput,rt=d.firstMultiple,it=rt?rt.center:nt.center,at=c.center=E(tt);c.timeStamp=st(),c.deltaTime=c.timeStamp-nt.timeStamp,c.angle=I(it,at),c.distance=H(it,at),function B(a,c){var d=c.center,tt=a.offsetDelta||{},et=a.prevDelta||{},nt=a.prevInput||{};c.eventType!==vt&&nt.eventType!==xt||(et=a.prevDelta={x:nt.deltaX||0,y:nt.deltaY||0},tt=a.offsetDelta={x:d.x,y:d.y}),c.deltaX=et.x+(d.x-tt.x),c.deltaY=et.y+(d.y-tt.y)}(d,c),c.offsetDirection=G(c.deltaX,c.deltaY);var ut=F(c.deltaTime,c.deltaX,c.deltaY);c.overallVelocityX=ut.x,c.overallVelocityY=ut.y,c.overallVelocity=ot(ut.x)>ot(ut.y)?ut.x:ut.y,c.scale=rt?function K(a,c){return H(c[0],c[1],Dt)/H(a[0],a[1],Dt)}(rt.pointers,tt):1,c.rotation=rt?function J(a,c){return I(c[1],c[0],Dt)+I(a[1],a[0],Dt)}(rt.pointers,tt):0,c.maxPointers=d.prevInput?c.pointers.length>d.prevInput.maxPointers?c.pointers.length:d.prevInput.maxPointers:c.pointers.length,C(d,c);var lt=a.element;o(c.srcEvent.target,lt)&&(lt=c.srcEvent.target),c.target=lt}(a,d),a.emit("hammer.input",d),a.recognize(d),a.session.prevInput=d}function C(a,c){var d,et,nt,rt,it=a.lastInterval||c,at=c.timeStamp-it.timeStamp;if(c.eventType!=bt&&(at>mt||it.velocity===tt)){var st=c.deltaX-it.deltaX,ut=c.deltaY-it.deltaY,lt=F(at,st,ut);et=lt.x,nt=lt.y,d=ot(lt.x)>ot(lt.y)?lt.x:lt.y,rt=G(st,ut),a.lastInterval=c}else d=it.velocity,et=it.velocityX,nt=it.velocityY,rt=it.direction;c.velocity=d,c.velocityX=et,c.velocityY=nt,c.direction=rt}function D(a){for(var c=[],d=0;d<a.pointers.length;)c[d]={clientX:at(a.pointers[d].clientX),clientY:at(a.pointers[d].clientY)},d++;return{timeStamp:st(),pointers:c,center:E(c),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var c=a.length;if(1===c)return{x:at(a[0].clientX),y:at(a[0].clientY)};for(var d=0,tt=0,et=0;c>et;)d+=a[et].clientX,tt+=a[et].clientY,et++;return{x:at(d/c),y:at(tt/c)}}function F(a,c,d){return{x:c/a||0,y:d/a||0}}function G(a,c){return a===c?Ft:ot(a)>=ot(c)?0>a?St:Ct:0>c?wt:Et}function H(a,c,d){d||(d=kt);var tt=c[d[0]]-a[d[0]],et=c[d[1]]-a[d[1]];return Math.sqrt(tt*tt+et*et)}function I(a,c,d){d||(d=kt);var tt=c[d[0]]-a[d[0]],et=c[d[1]]-a[d[1]];return 180*Math.atan2(et,tt)/Math.PI}function L(){this.evEl=_t,this.evWin=Mt,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Ot,this.evWin=zt,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=jt,this.evWin=qt,this.started=!1,x.apply(this,arguments)}function O(a,c){var d=s(a.touches),tt=s(a.changedTouches);return c&(xt|bt)&&(d=t(d.concat(tt),"identifier",!0)),[d,tt]}function P(){this.evTarget=Vt,this.targetIds={},x.apply(this,arguments)}function Q(a,c){var d=s(a.touches),tt=this.targetIds;if(c&(vt|yt)&&1===d.length)return tt[d[0].identifier]=!0,[d,d];var et,nt,rt=s(a.changedTouches),it=[],at=this.target;if(nt=d.filter((function(a){return o(a.target,at)})),c===vt)for(et=0;et<nt.length;)tt[nt[et].identifier]=!0,et++;for(et=0;et<rt.length;)tt[rt[et].identifier]&&it.push(rt[et]),c&(xt|bt)&&delete tt[rt[et].identifier],et++;return it.length?[t(nt.concat(it),"identifier",!0),it]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,c){a&vt?(this.primaryTouch=c.changedPointers[0].identifier,T.call(this,c)):a&(xt|bt)&&T.call(this,c)}function T(a){var c=a.changedPointers[0];if(c.identifier===this.primaryTouch){var d={x:c.clientX,y:c.clientY};this.lastTouches.push(d);var tt=this.lastTouches;setTimeout((function(){var a=tt.indexOf(d);a>-1&&tt.splice(a,1)}),Gt)}}function U(a){for(var c=a.srcEvent.clientX,d=a.srcEvent.clientY,tt=0;tt<this.lastTouches.length;tt++){var et=this.lastTouches[tt],nt=Math.abs(c-et.x),rt=Math.abs(d-et.y);if(Ht>=nt&&Ht>=rt)return!0}return!1}function V(a,c){this.manager=a,this.set(c)}function Y(a){this.options=et({},this.defaults,a||{}),this.id=function v(){return ct++}(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=te,this.simultaneous={},this.requireFail=[]}function Z(a){return a&ae?"cancel":a&re?"end":a&ne?"move":a&ee?"start":""}function $(a){return a==Et?"down":a==wt?"up":a==St?"left":a==Ct?"right":""}function _(a,c){var d=c.manager;return d?d.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,c){return(c=c||{}).recognizers=l(c.recognizers,ha.defaults.preset),new ia(a,c)}function ia(a,c){this.options=et({},ha.defaults,c||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=function y(a){var c=a.options.inputClass;return new(c||(ft?M:pt?P:ht?R:L))(a,z)}(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,(function(a){var c=this.add(new a[0](a[1]));a[2]&&c.recognizeWith(a[2]),a[3]&&c.requireFailure(a[3])}),this)}function ja(a,c){var d,tt=a.element;tt.style&&(g(a.options.cssProps,(function(et,nt){d=u(tt.style,nt),c?(a.oldCssProps[d]=tt.style[d],tt.style[d]=et):tt.style[d]=a.oldCssProps[d]||""})),c||(a.oldCssProps={}))}function ka(a,d){var tt=c.createEvent("Event");tt.initEvent(a,!0,!0),tt.gesture=d,d.target.dispatchEvent(tt)}var et,nt=["","webkit","Moz","MS","ms","o"],rt=c.createElement("div"),it="function",at=Math.round,ot=Math.abs,st=Date.now;et="function"!=typeof Object.assign?function(a){if(a===tt||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1;d<arguments.length;d++){var et=arguments[d];if(et!==tt&&null!==et)for(var nt in et)et.hasOwnProperty(nt)&&(c[nt]=et[nt])}return c}:Object.assign;var ut=h((function(a,c,d){for(var et=Object.keys(c),nt=0;nt<et.length;)(!d||d&&a[et[nt]]===tt)&&(a[et[nt]]=c[et[nt]]),nt++;return a}),"extend","Use `assign`."),lt=h((function(a,c){return ut(a,c,!0)}),"merge","Use `assign`."),ct=1,ht="ontouchstart"in a,ft=u(a,"PointerEvent")!==tt,pt=ht&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),dt="touch",gt="mouse",mt=25,vt=1,yt=2,xt=4,bt=8,Ft=1,St=2,Ct=4,wt=8,Et=16,Tt=St|Ct,At=wt|Et,Bt=Tt|At,kt=["x","y"],Dt=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Pt={mousedown:vt,mousemove:yt,mouseup:xt},_t="mousedown",Mt="mousemove mouseup";i(L,x,{handler:function(a){var c=Pt[a.type];c&vt&&0===a.button&&(this.pressed=!0),c&yt&&1!==a.which&&(c=xt),this.pressed&&(c&xt&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[a],changedPointers:[a],pointerType:gt,srcEvent:a}))}});var It={pointerdown:vt,pointermove:yt,pointerup:xt,pointercancel:bt,pointerout:bt},Nt={2:dt,3:"pen",4:gt,5:"kinect"},Ot="pointerdown",zt="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Ot="MSPointerDown",zt="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var c=this.store,d=!1,tt=a.type.toLowerCase().replace("ms",""),et=It[tt],nt=Nt[a.pointerType]||a.pointerType,rt=nt==dt,it=r(c,a.pointerId,"pointerId");et&vt&&(0===a.button||rt)?0>it&&(c.push(a),it=c.length-1):et&(xt|bt)&&(d=!0),0>it||(c[it]=a,this.callback(this.manager,et,{pointers:c,changedPointers:[a],pointerType:nt,srcEvent:a}),d&&c.splice(it,1))}});var Lt={touchstart:vt,touchmove:yt,touchend:xt,touchcancel:bt},jt="touchstart",qt="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var c=Lt[a.type];if(c===vt&&(this.started=!0),this.started){var d=O.call(this,a,c);c&(xt|bt)&&d[0].length-d[1].length==0&&(this.started=!1),this.callback(this.manager,c,{pointers:d[0],changedPointers:d[1],pointerType:dt,srcEvent:a})}}});var Rt={touchstart:vt,touchmove:yt,touchend:xt,touchcancel:bt},Vt="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var c=Rt[a.type],d=Q.call(this,a,c);d&&this.callback(this.manager,c,{pointers:d[0],changedPointers:d[1],pointerType:dt,srcEvent:a})}});var Gt=2500,Ht=25;i(R,x,{handler:function(a,c,d){var tt=d.pointerType==dt,et=d.pointerType==gt;if(!(et&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(tt)S.call(this,c,d);else if(et&&U.call(this,d))return;this.callback(a,c,d)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Xt=u(rt.style,"touchAction"),Yt=Xt!==tt,Wt="compute",Ut="auto",$t="manipulation",Zt="none",Qt="pan-x",Jt="pan-y",Kt=function X(){if(!Yt)return!1;var c={},d=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(tt){c[tt]=!d||a.CSS.supports("touch-action",tt)})),c}();V.prototype={set:function(a){a==Wt&&(a=this.compute()),Yt&&this.manager.element.style&&Kt[a]&&(this.manager.element.style[Xt]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,(function(c){k(c.options.enable,[c])&&(a=a.concat(c.getTouchAction()))})),function W(a){if(p(a,Zt))return Zt;var c=p(a,Qt),d=p(a,Jt);return c&&d?Zt:c||d?c?Qt:Jt:p(a,$t)?$t:Ut}(a.join(" "))},preventDefaults:function(a){var c=a.srcEvent,d=a.offsetDirection;if(!this.manager.session.prevented){var tt=this.actions,et=p(tt,Zt)&&!Kt[Zt],nt=p(tt,Jt)&&!Kt[Jt],rt=p(tt,Qt)&&!Kt[Qt];if(et){var it=1===a.pointers.length,at=a.distance<2,ot=a.deltaTime<250;if(it&&at&&ot)return}return rt&&nt?void 0:et||nt&&d&Tt||rt&&d&At?this.preventSrc(c):void 0}c.preventDefault()},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var te=1,ee=2,ne=4,re=8,ie=re,ae=16;Y.prototype={defaults:{},set:function(a){return et(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var c=this.simultaneous;return c[(a=_(a,this)).id]||(c[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)||(a=_(a,this),delete this.simultaneous[a.id]),this},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var c=this.requireFail;return-1===r(c,a=_(a,this))&&(c.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var c=r(this.requireFail,a);return c>-1&&this.requireFail.splice(c,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(d){c.manager.emit(d,a)}var c=this,d=this.state;re>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=re&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=32)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(32|te)))return!1;a++}return!0},recognize:function(a){var c=et({},a);return k(this.options.enable,[this,c])?(this.state&(ie|ae|32)&&(this.state=te),this.state=this.process(c),void(this.state&(ee|ne|re|ae)&&this.tryEmit(c))):(this.reset(),void(this.state=32))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var c=this.options.pointers;return 0===c||a.pointers.length===c},process:function(a){var c=this.state,d=a.eventType,tt=c&(ee|ne),et=this.attrTest(a);return tt&&(d&bt||!et)?c|ae:tt||et?d&xt?c|re:c&ee?c|ne:ee:32}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Bt},getTouchAction:function(){var a=this.options.direction,c=[];return a&Tt&&c.push(Jt),a&At&&c.push(Qt),c},directionTest:function(a){var c=this.options,d=!0,tt=a.distance,et=a.direction,nt=a.deltaX,rt=a.deltaY;return et&c.direction||(c.direction&Tt?(et=0===nt?Ft:0>nt?St:Ct,d=nt!=this.pX,tt=Math.abs(a.deltaX)):(et=0===rt?Ft:0>rt?wt:Et,d=rt!=this.pY,tt=Math.abs(a.deltaY))),a.direction=et,d&&tt>c.threshold&&et&c.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ee||!(this.state&ee)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var c=$(a.direction);c&&(a.additionalEvent=this.options.event+c),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ee)},emit:function(a){if(1!==a.scale){var c=a.scale<1?"in":"out";a.additionalEvent=this.options.event+c}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ut]},process:function(a){var c=this.options,d=a.pointers.length===c.pointers,tt=a.distance<c.threshold,et=a.deltaTime>c.time;if(this._input=a,!tt||!d||a.eventType&(xt|bt)&&!et)this.reset();else if(a.eventType&vt)this.reset(),this._timer=e((function(){this.state=ie,this.tryEmit()}),c.time,this);else if(a.eventType&xt)return ie;return 32},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===ie&&(a&&a.eventType&xt?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=st(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ee)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Tt|At,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var c,d=this.options.direction;return d&(Tt|At)?c=a.overallVelocity:d&Tt?c=a.overallVelocityX:d&At&&(c=a.overallVelocityY),this._super.attrTest.call(this,a)&&d&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&ot(c)>this.options.velocity&&a.eventType&xt},emit:function(a){var c=$(a.offsetDirection);c&&this.manager.emit(this.options.event+c,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[$t]},process:function(a){var c=this.options,d=a.pointers.length===c.pointers,tt=a.distance<c.threshold,et=a.deltaTime<c.time;if(this.reset(),a.eventType&vt&&0===this.count)return this.failTimeout();if(tt&&et&&d){if(a.eventType!=xt)return this.failTimeout();var nt=!this.pTime||a.timeStamp-this.pTime<c.interval,rt=!this.pCenter||H(this.pCenter,a.center)<c.posThreshold;if(this.pTime=a.timeStamp,this.pCenter=a.center,rt&&nt?this.count+=1:this.count=1,this._input=a,0===this.count%c.taps)return this.hasRequireFailures()?(this._timer=e((function(){this.state=ie,this.tryEmit()}),c.interval,this),ee):ie}return 32},failTimeout:function(){return this._timer=e((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ie&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:Wt,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Tt}],[ba,{direction:Tt},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ia.prototype={set:function(a){return et(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var c=this.session;if(!c.stopped){this.touchAction.preventDefaults(a);var d,tt=this.recognizers,et=c.curRecognizer;(!et||et&&et.state&ie)&&(et=c.curRecognizer=null);for(var nt=0;nt<tt.length;)d=tt[nt],2===c.stopped||et&&d!=et&&!d.canRecognizeWith(et)?d.reset():d.recognize(a),!et&&d.state&(ee|ne|re)&&(et=c.curRecognizer=d),nt++}},get:function(a){if(a instanceof Y)return a;for(var c=this.recognizers,d=0;d<c.length;d++)if(c[d].options.event==a)return c[d];return null},add:function(a){if(f(a,"add",this))return this;var c=this.get(a.options.event);return c&&this.remove(c),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var c=this.recognizers,d=r(c,a);-1!==d&&(c.splice(d,1),this.touchAction.update())}return this},on:function(a,c){if(a!==tt&&c!==tt){var d=this.handlers;return g(q(a),(function(a){d[a]=d[a]||[],d[a].push(c)})),this}},off:function(a,c){if(a!==tt){var d=this.handlers;return g(q(a),(function(a){c?d[a]&&d[a].splice(r(d[a],c),1):delete d[a]})),this}},emit:function(a,c){this.options.domEvents&&ka(a,c);var d=this.handlers[a]&&this.handlers[a].slice();if(d&&d.length){c.type=a,c.preventDefault=function(){c.srcEvent.preventDefault()};for(var tt=0;tt<d.length;)d[tt](c),tt++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},et(ha,{INPUT_START:vt,INPUT_MOVE:yt,INPUT_END:xt,INPUT_CANCEL:bt,STATE_POSSIBLE:te,STATE_BEGAN:ee,STATE_CHANGED:ne,STATE_ENDED:re,STATE_RECOGNIZED:ie,STATE_CANCELLED:ae,STATE_FAILED:32,DIRECTION_NONE:Ft,DIRECTION_LEFT:St,DIRECTION_RIGHT:Ct,DIRECTION_UP:wt,DIRECTION_DOWN:Et,DIRECTION_HORIZONTAL:Tt,DIRECTION_VERTICAL:At,DIRECTION_ALL:Bt,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:lt,extend:ut,assign:et,inherit:i,bindFn:j,prefixed:u}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=ha,"function"==typeof define&&define.amd?define((function(){return ha})):"undefined"!=typeof module&&module.exports?module.exports=ha:a.Hammer=ha}(window,document),function(a){var c,d,tt="hasOwnProperty",et=/[\.\/]/,nt=/\s*,\s*/,numsort=function(a,c){return a-c},rt={n:{}},firstDefined=function(){for(var a=0,c=this.length;a<c;a++)if(void 0!==this[a])return this[a]},lastDefined=function(){for(var a=this.length;--a;)if(void 0!==this[a])return this[a]},it=Object.prototype.toString,at=String,ot=Array.isArray||function(a){return a instanceof Array||"[object Array]"==it.call(a)};eve=function(a,tt){var et,nt=d,rt=Array.prototype.slice.call(arguments,2),it=eve.listeners(a),at=0,ot=[],st={},ut=[],lt=c;ut.firstDefined=firstDefined,ut.lastDefined=lastDefined,c=a,d=0;for(var ct=0,ht=it.length;ct<ht;ct++)"zIndex"in it[ct]&&(ot.push(it[ct].zIndex),it[ct].zIndex<0&&(st[it[ct].zIndex]=it[ct]));for(ot.sort(numsort);ot[at]<0;)if(et=st[ot[at++]],ut.push(et.apply(tt,rt)),d)return d=nt,ut;for(ct=0;ct<ht;ct++)if("zIndex"in(et=it[ct]))if(et.zIndex==ot[at]){if(ut.push(et.apply(tt,rt)),d)break;do{if((et=st[ot[++at]])&&ut.push(et.apply(tt,rt)),d)break}while(et)}else st[et.zIndex]=et;else if(ut.push(et.apply(tt,rt)),d)break;return d=nt,c=lt,ut},eve._events=rt,eve.listeners=function(a){var c,d,tt,nt,it,at,st,ut,lt=ot(a)?a:a.split(et),ct=rt,ht=[ct],ft=[];for(nt=0,it=lt.length;nt<it;nt++){for(ut=[],at=0,st=ht.length;at<st;at++)for(d=[(ct=ht[at].n)[lt[nt]],ct["*"]],tt=2;tt--;)(c=d[tt])&&(ut.push(c),ft=ft.concat(c.f||[]));ht=ut}return ft},eve.separator=function(a){a?(a="["+(a=at(a).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",et=new RegExp(a)):et=/[\.\/]/},eve.on=function(a,c){if("function"!=typeof c)return function(){};for(var d=ot(a)?ot(a[0])?a:[a]:at(a).split(nt),tt=0,it=d.length;tt<it;tt++)!function(a){for(var d,tt=ot(a)?a:at(a).split(et),nt=rt,it=0,st=tt.length;it<st;it++)nt=(nt=nt.n).hasOwnProperty(tt[it])&&nt[tt[it]]||(nt[tt[it]]={n:{}});for(nt.f=nt.f||[],it=0,st=nt.f.length;it<st;it++)if(nt.f[it]==c){d=!0;break}!d&&nt.f.push(c)}(d[tt]);return function(a){+a==+a&&(c.zIndex=+a)}},eve.f=function(a){var c=[].slice.call(arguments,1);return function(){eve.apply(null,[a,null].concat(c).concat([].slice.call(arguments,0)))}},eve.stop=function(){d=1},eve.nt=function(a){var d=ot(c)?c.join("."):c;return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(d):d},eve.nts=function(){return ot(c)?c:c.split(et)},eve.off=eve.unbind=function(a,c){if(a){var d=ot(a)?ot(a[0])?a:[a]:at(a).split(nt);if(d.length>1)for(var it=0,st=d.length;it<st;it++)eve.off(d[it],c);else{d=ot(a)?a:at(a).split(et);var ut,lt,ct,ht,ft,pt=[rt],dt=[];for(it=0,st=d.length;it<st;it++)for(ht=0;ht<pt.length;ht+=ct.length-2){if(ct=[ht,1],ut=pt[ht].n,"*"!=d[it])ut[d[it]]&&(ct.push(ut[d[it]]),dt.unshift({n:ut,name:d[it]}));else for(lt in ut)ut[tt](lt)&&(ct.push(ut[lt]),dt.unshift({n:ut,name:lt}));pt.splice.apply(pt,ct)}for(it=0,st=pt.length;it<st;it++)for(ut=pt[it];ut.n;){if(c){if(ut.f){for(ht=0,ft=ut.f.length;ht<ft;ht++)if(ut.f[ht]==c){ut.f.splice(ht,1);break}!ut.f.length&&delete ut.f}for(lt in ut.n)if(ut.n[tt](lt)&&ut.n[lt].f){var gt=ut.n[lt].f;for(ht=0,ft=gt.length;ht<ft;ht++)if(gt[ht]==c){gt.splice(ht,1);break}!gt.length&&delete ut.n[lt].f}}else for(lt in delete ut.f,ut.n)ut.n[tt](lt)&&ut.n[lt].f&&delete ut.n[lt].f;ut=ut.n}t:for(it=0,st=dt.length;it<st;it++){for(lt in(ut=dt[it]).n[ut.name].f)continue t;for(lt in ut.n[ut.name].n)continue t;delete ut.n[ut.name]}}}else eve._events=rt={n:{}}},eve.once=function(a,c){var f2=function(){return eve.off(a,f2),c.apply(this,arguments)};return eve.on(a,f2)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},"undefined"!=typeof module&&module.exports?module.exports=eve:"function"==typeof define&&define.amd?define("eve",[],(function(){return eve})):a.eve=eve}(this),function(a,c){if("function"==typeof define&&define.amd)define(["eve"],(function(d){return c(a,d)}));else if("undefined"!=typeof exports){var d=require("eve");module.exports=c(a,d)}else c(a,a.eve)}(window||this,(function(a,c){var d=function(c){var d,tt={},et=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,16,(new Date).getTime()),!0},nt=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},rt=0,it="M"+(+new Date).toString(36),at=Date.now||function(){return+new Date},sta=function(a){var c=this;if(null==a)return c.s;var d=c.s-a;c.b+=c.dur*d,c.B+=c.dur*d,c.s=a},speed=function(a){if(null==a)return this.spd;this.spd=a},duration=function(a){var c=this;if(null==a)return c.dur;c.s=c.s*a/c.dur,c.dur=a},stopit=function(){var a=this;delete tt[a.id],a.update(),c("mina.stop."+a.id,a)},pause=function(){var a=this;a.pdif||(delete tt[a.id],a.update(),a.pdif=a.get()-a.b)},resume=function(){var a=this;a.pdif&&(a.b=a.get()-a.pdif,delete a.pdif,tt[a.id]=a,frame())},update=function(){var a,c=this;if(nt(c.start)){a=[];for(var d=0,tt=c.start.length;d<tt;d++)a[d]=+c.start[d]+(c.end[d]-c.start[d])*c.easing(c.s)}else a=+c.start+(c.end-c.start)*c.easing(c.s);c.set(a)},frame=function(a){if(a){var nt=0;for(var rt in tt)if(tt.hasOwnProperty(rt)){var it=tt[rt],at=it.get();nt++,it.s=(at-it.b)/(it.dur/it.spd),it.s>=1&&(delete tt[rt],it.s=1,nt--,function(a){setTimeout((function(){c("mina.finish."+a.id,a)}))}(it)),it.update()}d=!!nt&&et(frame)}else d||(d=et(frame))},mina=function(a,c,d,et,nt,at,ot){var st={id:it+(rt++).toString(36),start:a,end:c,b:d,s:0,dur:et-d,spd:1,get:nt,set:at,easing:ot||mina.linear,status:sta,speed:speed,duration:duration,stop:stopit,pause:pause,resume:resume,update:update};tt[st.id]=st;var ut,lt=0;for(ut in tt)if(tt.hasOwnProperty(ut)&&2==++lt)break;return 1==lt&&frame(),st};return mina.time=at,mina.getById=function(a){return tt[a]||null},mina.linear=function(a){return a},mina.easeout=function(a){return Math.pow(a,1.7)},mina.easein=function(a){return Math.pow(a,.48)},mina.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var c=.48-a/1.04,d=Math.sqrt(.1734+c*c),tt=d-c,et=-d-c,nt=Math.pow(Math.abs(tt),1/3)*(tt<0?-1:1)+Math.pow(Math.abs(et),1/3)*(et<0?-1:1)+.5;return 3*(1-nt)*nt*nt+nt*nt*nt},mina.backin=function(a){if(1==a)return 1;var c=1.70158;return a*a*((c+1)*a-c)},mina.backout=function(a){if(0==a)return 0;var c=1.70158;return(a-=1)*a*((c+1)*a+c)+1},mina.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin((a-.075)*(2*Math.PI)/.3)+1},mina.bounce=function(a){var c=7.5625,d=2.75;return a<1/d?c*a*a:a<2/d?c*(a-=1.5/d)*a+.75:a<2.5/d?c*(a-=2.25/d)*a+.9375:c*(a-=2.625/d)*a+.984375},a.mina=mina,mina}(void 0===c?function(){}:c),tt=function(a){function Snap(a,c){if(a){if(a.nodeType)return wrap(a);if(is(a,"array")&&Snap.set)return Snap.set.apply(Snap,a);if(a instanceof Element)return a;if(null==c)try{return wrap(a=d.doc.querySelector(String(a)))}catch(a){return null}}return new Paper(a=null==a?"100%":a,c=null==c?"100%":c)}Snap.version="0.5.1",Snap.toString=function(){return"Snap v"+this.version},Snap._={};var d={win:a.window,doc:a.window.document};Snap._.glob=d;var tt,et,nt="hasOwnProperty",rt=String,it=parseFloat,at=parseInt,ot=Math,st=ot.max,ut=ot.min,lt=ot.abs,ct=(ot.pow,ot.PI),ht=(ot.round,Object.prototype.toString),ft=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,pt=(Snap._.separator=/[,\s]+/,/[\s]*,[\s]*/),dt={hs:1,rg:1},gt=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,mt=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,vt=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/gi,yt=0,xt="S"+(+new Date).toString(36),ID=function(a){return(a&&a.type?a.type:"")+xt+(yt++).toString(36)},bt="http://www.w3.org/1999/xlink",Ft="http://www.w3.org/2000/svg",St={};Snap.url=function(a){return"url('#"+a+"')"};function $(a,c){if(c){if("#text"==a&&(a=d.doc.createTextNode(c.text||c["#text"]||"")),"#comment"==a&&(a=d.doc.createComment(c.text||c["#text"]||"")),"string"==typeof a&&(a=$(a)),"string"==typeof c)return 1==a.nodeType?"xlink:"==c.substring(0,6)?a.getAttributeNS(bt,c.substring(6)):"xml:"==c.substring(0,4)?a.getAttributeNS(Ft,c.substring(4)):a.getAttribute(c):"text"==c?a.nodeValue:null;if(1==a.nodeType){for(var tt in c)if(c[nt](tt)){var et=rt(c[tt]);et?"xlink:"==tt.substring(0,6)?a.setAttributeNS(bt,tt.substring(6),et):"xml:"==tt.substring(0,4)?a.setAttributeNS(Ft,tt.substring(4),et):a.setAttribute(tt,et):a.removeAttribute(tt)}}else"text"in c&&(a.nodeValue=c.text)}else a=d.doc.createElementNS(Ft,a);return a}function is(a,c){return"finite"==(c=rt.prototype.toLowerCase.call(c))?isFinite(a):!("array"!=c||!(a instanceof Array||Array.isArray&&Array.isArray(a)))||("null"==c&&null===a||c==typeof a&&null!==a||"object"==c&&a===Object(a)||ht.call(a).slice(8,-1).toLowerCase()==c)}function repush(a,c){for(var d=0,tt=a.length;d<tt;d++)if(a[d]===c)return a.push(a.splice(d,1)[0])}function cacher(a,c,d){return function newf(){var tt=Array.prototype.slice.call(arguments,0),et=tt.join("␀"),rt=newf.cache=newf.cache||{},it=newf.count=newf.count||[];return rt[nt](et)?(repush(it,et),d?d(rt[et]):rt[et]):(it.length>=1e3&&delete rt[it.shift()],it.push(et),rt[et]=a.apply(c,tt),d?d(rt[et]):rt[et])}}function rad(a){return a%360*ct/180}Snap._.$=$,Snap._.id=ID,Snap.format=(tt=/\{([^\}]+)\}/g,et=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(a,c){return rt(a).replace(tt,(function(a,d){return function(a,c,d){var tt=d;return c.replace(et,(function(a,c,d,et,nt){c=c||et,tt&&(c in tt&&(tt=tt[c]),"function"==typeof tt&&nt&&(tt=tt()))})),tt=(null==tt||tt==d?a:tt)+""}(a,d,c)}))}),Snap._.clone=function clone(a){if("function"==typeof a||Object(a)!==a)return a;var c=new a.constructor;for(var d in a)a[nt](d)&&(c[d]=clone(a[d]));return c},Snap._.cacher=cacher,Snap.rad=rad,Snap.deg=function deg(a){return 180*a/ct%360},Snap.sin=function(a){return ot.sin(Snap.rad(a))},Snap.tan=function(a){return ot.tan(Snap.rad(a))},Snap.cos=function(a){return ot.cos(Snap.rad(a))},Snap.asin=function(a){return Snap.deg(ot.asin(a))},Snap.acos=function(a){return Snap.deg(ot.acos(a))},Snap.atan=function(a){return Snap.deg(ot.atan(a))},Snap.atan2=function(a){return Snap.deg(ot.atan2(a))},Snap.angle=function angle(a,c,d,tt,et,nt){if(null==et){var rt=a-d,it=c-tt;return rt||it?(180+180*ot.atan2(-it,-rt)/ct+360)%360:0}return angle(a,c,et,nt)-angle(d,tt,et,nt)},Snap.len=function(a,c,d,tt){return Math.sqrt(Snap.len2(a,c,d,tt))},Snap.len2=function(a,c,d,tt){return(a-d)*(a-d)+(c-tt)*(c-tt)},Snap.closestPoint=function(a,c,d){function distance2(a){var tt=a.x-c,et=a.y-d;return tt*tt+et*et}for(var tt,et,nt,rt,it=a.node,at=it.getTotalLength(),ot=at/it.pathSegList.numberOfItems*.125,st=1/0,ut=0;ut<=at;ut+=ot)(rt=distance2(nt=it.getPointAtLength(ut)))<st&&(tt=nt,et=ut,st=rt);for(ot*=.5;ot>.5;){var lt,ct,ht,ft,pt,dt;(ht=et-ot)>=0&&(pt=distance2(lt=it.getPointAtLength(ht)))<st?(tt=lt,et=ht,st=pt):(ft=et+ot)<=at&&(dt=distance2(ct=it.getPointAtLength(ft)))<st?(tt=ct,et=ft,st=dt):ot*=.5}return tt={x:tt.x,y:tt.y,length:et,distance:Math.sqrt(st)}},Snap.is=is,Snap.snapTo=function(a,c,d){if(d=is(d,"finite")?d:10,is(a,"array")){for(var tt=a.length;tt--;)if(lt(a[tt]-c)<=d)return a[tt]}else{var et=c%(a=+a);if(et<d)return c-et;if(et>a-d)return c-et+a}return c},Snap.getRGB=cacher((function(a){if(!a||(a=rt(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:rgbtoString};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:rgbtoString};if(!dt[nt](a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=toHex(a)),!a)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:rgbtoString};var c,d,tt,et,lt,ct,ht=a.match(ft);return ht?(ht[2]&&(tt=at(ht[2].substring(5),16),d=at(ht[2].substring(3,5),16),c=at(ht[2].substring(1,3),16)),ht[3]&&(tt=at((lt=ht[3].charAt(3))+lt,16),d=at((lt=ht[3].charAt(2))+lt,16),c=at((lt=ht[3].charAt(1))+lt,16)),ht[4]&&(ct=ht[4].split(pt),c=it(ct[0]),"%"==ct[0].slice(-1)&&(c*=2.55),d=it(ct[1]),"%"==ct[1].slice(-1)&&(d*=2.55),tt=it(ct[2]),"%"==ct[2].slice(-1)&&(tt*=2.55),"rgba"==ht[1].toLowerCase().slice(0,4)&&(et=it(ct[3])),ct[3]&&"%"==ct[3].slice(-1)&&(et/=100)),ht[5]?(ct=ht[5].split(pt),c=it(ct[0]),"%"==ct[0].slice(-1)&&(c/=100),d=it(ct[1]),"%"==ct[1].slice(-1)&&(d/=100),tt=it(ct[2]),"%"==ct[2].slice(-1)&&(tt/=100),("deg"==ct[0].slice(-3)||"°"==ct[0].slice(-1))&&(c/=360),"hsba"==ht[1].toLowerCase().slice(0,4)&&(et=it(ct[3])),ct[3]&&"%"==ct[3].slice(-1)&&(et/=100),Snap.hsb2rgb(c,d,tt,et)):ht[6]?(ct=ht[6].split(pt),c=it(ct[0]),"%"==ct[0].slice(-1)&&(c/=100),d=it(ct[1]),"%"==ct[1].slice(-1)&&(d/=100),tt=it(ct[2]),"%"==ct[2].slice(-1)&&(tt/=100),("deg"==ct[0].slice(-3)||"°"==ct[0].slice(-1))&&(c/=360),"hsla"==ht[1].toLowerCase().slice(0,4)&&(et=it(ct[3])),ct[3]&&"%"==ct[3].slice(-1)&&(et/=100),Snap.hsl2rgb(c,d,tt,et)):(c=ut(ot.round(c),255),d=ut(ot.round(d),255),tt=ut(ot.round(tt),255),et=ut(st(et,0),1),(ht={r:c,g:d,b:tt,toString:rgbtoString}).hex="#"+(16777216|tt|d<<8|c<<16).toString(16).slice(1),ht.opacity=is(et,"finite")?et:1,ht)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:rgbtoString}}),Snap),Snap.hsb=cacher((function(a,c,d){return Snap.hsb2rgb(a,c,d).hex})),Snap.hsl=cacher((function(a,c,d){return Snap.hsl2rgb(a,c,d).hex})),Snap.rgb=cacher((function(a,c,d,tt){if(is(tt,"finite")){var et=ot.round;return"rgba("+[et(a),et(c),et(d),+tt.toFixed(2)]+")"}return"#"+(16777216|d|c<<8|a<<16).toString(16).slice(1)}));var toHex=function(a){var c=d.doc.getElementsByTagName("head")[0]||d.doc.getElementsByTagName("svg")[0],tt="rgb(255, 0, 0)";return(toHex=cacher((function(a){if("red"==a.toLowerCase())return tt;c.style.color=tt,c.style.color=a;var et=d.doc.defaultView.getComputedStyle(c,"").getPropertyValue("color");return et==tt?null:et})))(a)},hsbtoString=function(){return"hsb("+[this.h,this.s,this.b]+")"},hsltoString=function(){return"hsl("+[this.h,this.s,this.l]+")"},rgbtoString=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},prepareRGB=function(a,c,d){if(null==c&&is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(d=a.b,c=a.g,a=a.r),null==c&&is(a,string)){var tt=Snap.getRGB(a);a=tt.r,c=tt.g,d=tt.b}return(a>1||c>1||d>1)&&(a/=255,c/=255,d/=255),[a,c,d]},packageRGB=function(a,c,d,tt){var et={r:a=ot.round(255*a),g:c=ot.round(255*c),b:d=ot.round(255*d),opacity:is(tt,"finite")?tt:1,hex:Snap.rgb(a,c,d),toString:rgbtoString};return is(tt,"finite")&&(et.opacity=tt),et};Snap.color=function(a){var c;return is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(c=Snap.hsb2rgb(a),a.r=c.r,a.g=c.g,a.b=c.b,a.opacity=1,a.hex=c.hex):is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(c=Snap.hsl2rgb(a),a.r=c.r,a.g=c.g,a.b=c.b,a.opacity=1,a.hex=c.hex):(is(a,"string")&&(a=Snap.getRGB(a)),is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&!("error"in a)?(c=Snap.rgb2hsl(a),a.h=c.h,a.s=c.s,a.l=c.l,c=Snap.rgb2hsb(a),a.v=c.b):((a={hex:"none"}).r=a.g=a.b=a.h=a.s=a.v=a.l=-1,a.error=1)),a.toString=rgbtoString,a},Snap.hsb2rgb=function(a,c,d,tt){var et,nt,rt,it,at;return is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(d=a.b,c=a.s,tt=a.o,a=a.h),it=(at=d*c)*(1-lt((a=(a*=360)%360/60)%2-1)),et=nt=rt=d-at,packageRGB(et+=[at,it,0,0,it,at][a=~~a],nt+=[it,at,at,it,0,0][a],rt+=[0,0,it,at,at,it][a],tt)},Snap.hsl2rgb=function(a,c,d,tt){var et,nt,rt,it,at;return is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(d=a.l,c=a.s,a=a.h),(a>1||c>1||d>1)&&(a/=360,c/=100,d/=100),it=(at=2*c*(d<.5?d:1-d))*(1-lt((a=(a*=360)%360/60)%2-1)),et=nt=rt=d-at/2,packageRGB(et+=[at,it,0,0,it,at][a=~~a],nt+=[it,at,at,it,0,0][a],rt+=[0,0,it,at,at,it][a],tt)},Snap.rgb2hsb=function(a,c,d){var tt,et;return a=(d=prepareRGB(a,c,d))[0],c=d[1],d=d[2],{h:((0==(et=(tt=st(a,c,d))-ut(a,c,d))?null:tt==a?(c-d)/et:tt==c?(d-a)/et+2:(a-c)/et+4)+360)%6*60/360,s:0==et?0:et/tt,b:tt,toString:hsbtoString}},Snap.rgb2hsl=function(a,c,d){var tt,et,nt,rt;return a=(d=prepareRGB(a,c,d))[0],c=d[1],d=d[2],tt=((et=st(a,c,d))+(nt=ut(a,c,d)))/2,{h:((0==(rt=et-nt)?null:et==a?(c-d)/rt:et==c?(d-a)/rt+2:(a-c)/rt+4)+360)%6*60/360,s:0==rt?0:tt<.5?rt/(2*tt):rt/(2-2*tt),l:tt,toString:hsltoString}},Snap.parsePathString=function(a){if(!a)return null;var c=Snap.path(a);if(c.arr)return Snap.path.clone(c.arr);var d={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},tt=[];return is(a,"array")&&is(a[0],"array")&&(tt=Snap.path.clone(a)),tt.length||rt(a).replace(gt,(function(a,c,et){var nt=[],rt=c.toLowerCase();if(et.replace(vt,(function(a,c){c&&nt.push(+c)})),"m"==rt&&nt.length>2&&(tt.push([c].concat(nt.splice(0,2))),rt="l",c="m"==c?"l":"L"),"o"==rt&&1==nt.length&&tt.push([c,nt[0]]),"r"==rt)tt.push([c].concat(nt));else for(;nt.length>=d[rt]&&(tt.push([c].concat(nt.splice(0,d[rt]))),d[rt]););})),tt.toString=Snap.path.toString,c.arr=Snap.path.clone(tt),tt};var Ct=Snap.parseTransformString=function(a){if(!a)return null;var c=[];return is(a,"array")&&is(a[0],"array")&&(c=Snap.path.clone(a)),c.length||rt(a).replace(mt,(function(a,d,tt){var et=[];d.toLowerCase();tt.replace(vt,(function(a,c){c&&et.push(+c)})),c.push([d].concat(et))})),c.toString=Snap.path.toString,c};Snap._.svgTransform2string=function svgTransform2string(a){var c=[];return a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,(function(a,d,tt){return tt=tt.split(/\s*,\s*|\s+/),"rotate"==d&&1==tt.length&&tt.push(0,0),"scale"==d&&(tt.length>2?tt=tt.slice(0,2):2==tt.length&&tt.push(0,0),1==tt.length&&tt.push(tt[0],0,0)),"skewX"==d?c.push(["m",1,0,ot.tan(rad(tt[0])),1,0,0]):"skewY"==d?c.push(["m",1,ot.tan(rad(tt[0])),0,1,0,0]):c.push([d.charAt(0)].concat(tt)),a})),c},Snap._.rgTransform=/^[a-z][\s]*-?\.?\d/i,Snap._.transform2matrix=function transform2matrix(a,c){var d=Ct(a),tt=new Snap.Matrix;if(d)for(var et=0,nt=d.length;et<nt;et++){var it,at,ot,st,ut,lt=d[et],ct=lt.length,ht=rt(lt[0]).toLowerCase(),ft=lt[0]!=ht,pt=ft?tt.invert():0;"t"==ht&&2==ct?tt.translate(lt[1],0):"t"==ht&&3==ct?ft?(it=pt.x(0,0),at=pt.y(0,0),ot=pt.x(lt[1],lt[2]),st=pt.y(lt[1],lt[2]),tt.translate(ot-it,st-at)):tt.translate(lt[1],lt[2]):"r"==ht?2==ct?(ut=ut||c,tt.rotate(lt[1],ut.x+ut.width/2,ut.y+ut.height/2)):4==ct&&(ft?(ot=pt.x(lt[2],lt[3]),st=pt.y(lt[2],lt[3]),tt.rotate(lt[1],ot,st)):tt.rotate(lt[1],lt[2],lt[3])):"s"==ht?2==ct||3==ct?(ut=ut||c,tt.scale(lt[1],lt[ct-1],ut.x+ut.width/2,ut.y+ut.height/2)):4==ct?ft?(ot=pt.x(lt[2],lt[3]),st=pt.y(lt[2],lt[3]),tt.scale(lt[1],lt[1],ot,st)):tt.scale(lt[1],lt[1],lt[2],lt[3]):5==ct&&(ft?(ot=pt.x(lt[3],lt[4]),st=pt.y(lt[3],lt[4]),tt.scale(lt[1],lt[2],ot,st)):tt.scale(lt[1],lt[2],lt[3],lt[4])):"m"==ht&&7==ct&&tt.add(lt[1],lt[2],lt[3],lt[4],lt[5],lt[6])}return tt},Snap._unit2px=function unit2px(a,c,d){var tt=getSomeSVG(a).node,et={},nt=tt.querySelector(".svg---mgr");nt||(nt=$("rect"),$(nt,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),tt.appendChild(nt));function getW(a){if(null==a)return"";if(a==+a)return a;$(nt,{width:a});try{return nt.getBBox().width}catch(a){return 0}}function getH(a){if(null==a)return"";if(a==+a)return a;$(nt,{height:a});try{return nt.getBBox().height}catch(a){return 0}}function set(tt,nt){null==c?et[tt]=nt(a.attr(tt)||0):tt==c&&(et=nt(null==d?a.attr(tt)||0:d))}switch(a.type){case"rect":set("rx",getW),set("ry",getH);case"image":set("width",getW),set("height",getH);case"text":set("x",getW),set("y",getH);break;case"circle":set("cx",getW),set("cy",getH),set("r",getW);break;case"ellipse":set("cx",getW),set("cy",getH),set("rx",getW),set("ry",getH);break;case"line":set("x1",getW),set("x2",getW),set("y1",getH),set("y2",getH);break;case"marker":set("refX",getW),set("markerWidth",getW),set("refY",getH),set("markerHeight",getH);break;case"radialGradient":set("fx",getW),set("fy",getH);break;case"tspan":set("dx",getW),set("dy",getH);break;default:set(c,getW)}return tt.removeChild(nt),et};d.doc.contains||d.doc.compareDocumentPosition;function getSomeSVG(a){return a.node.ownerSVGElement&&wrap(a.node.ownerSVGElement)||Snap.select("svg")}function add2group(a){is(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var c=0,d=0,tt=this.node;this[c];)delete this[c++];for(c=0;c<a.length;c++)"set"==a[c].type?a[c].forEach((function(a){tt.appendChild(a.node)})):tt.appendChild(a[c].node);var et=tt.childNodes;for(c=0;c<et.length;c++)this[d++]=wrap(et[c]);return this}function Element(a){if(a.snap in St)return St[a.snap];var c;try{c=a.ownerSVGElement}catch(a){}this.node=a,c&&(this.paper=new Paper(c)),this.type=a.tagName||a.nodeName;var d=this.id=ID(this);if(this.anims={},this._={transform:[]},a.snap=d,St[d]=this,"g"==this.type&&(this.add=add2group),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var tt in Paper.prototype)Paper.prototype[nt](tt)&&(this[tt]=Paper.prototype[tt])}function Fragment(a){this.node=a}function make(a,c){var d=$(a);return c.appendChild(d),wrap(d)}function Paper(a,c){var tt,et,rt,it=Paper.prototype;if(a&&a.tagName&&"svg"==a.tagName.toLowerCase()){if(a.snap in St)return St[a.snap];var at=a.ownerDocument;for(var ot in tt=new Element(a),et=a.getElementsByTagName("desc")[0],rt=a.getElementsByTagName("defs")[0],et||((et=$("desc")).appendChild(at.createTextNode("Created with Snap")),tt.node.appendChild(et)),rt||(rt=$("defs"),tt.node.appendChild(rt)),tt.defs=rt,it)it[nt](ot)&&(tt[ot]=it[ot]);tt.paper=tt.root=tt}else $((tt=make("svg",d.doc.body)).node,{height:c,version:1.1,width:a,xmlns:Ft});return tt}function wrap(a){return a?a instanceof Element||a instanceof Fragment?a:a.tagName&&"svg"==a.tagName.toLowerCase()?new Paper(a):a.tagName&&"object"==a.tagName.toLowerCase()&&"image/svg+xml"==a.type?new Paper(a.contentDocument.getElementsByTagName("svg")[0]):new Element(a):a}Snap._.getSomeDefs=function getSomeDefs(a){var c=a.node.ownerSVGElement&&wrap(a.node.ownerSVGElement)||a.node.parentNode&&wrap(a.node.parentNode)||Snap.select("svg")||Snap(0,0),d=c.select("defs"),tt=null!=d&&d.node;return tt||(tt=make("defs",c.node).node),tt},Snap._.getSomeSVG=getSomeSVG,Snap.select=function(a){return a=rt(a).replace(/([^\\]):/g,"$1\\:"),wrap(d.doc.querySelector(a))},Snap.selectAll=function(a){for(var c=d.doc.querySelectorAll(a),tt=(Snap.set||Array)(),et=0;et<c.length;et++)tt.push(wrap(c[et]));return tt},setInterval((function(){for(var a in St)if(St[nt](a)){var c=St[a],d=c.node;("svg"!=c.type&&!d.ownerSVGElement||"svg"==c.type&&(!d.parentNode||"ownerSVGElement"in d.parentNode&&!d.ownerSVGElement))&&delete St[a]}}),1e4),Element.prototype.attr=function(a,d){var tt=this,et=tt.node;if(!a){if(1!=et.nodeType)return{text:et.nodeValue};for(var rt=et.attributes,it={},at=0,ot=rt.length;at<ot;at++)it[rt[at].nodeName]=rt[at].nodeValue;return it}if(is(a,"string")){if(!(arguments.length>1))return c("snap.util.getattr."+a,tt).firstDefined();var st={};st[a]=d,a=st}for(var ut in a)a[nt](ut)&&c("snap.util.attr."+ut,tt,a[ut]);return tt},Snap.parse=function(a){var c=d.doc.createDocumentFragment(),tt=!0,et=d.doc.createElement("div");if((a=rt(a)).match(/^\s*<\s*svg(?:\s|>)/)||(a="<svg>"+a+"</svg>",tt=!1),et.innerHTML=a,a=et.getElementsByTagName("svg")[0])if(tt)c=a;else for(;a.firstChild;)c.appendChild(a.firstChild);return new Fragment(c)},Snap.fragment=function(){for(var a=Array.prototype.slice.call(arguments,0),c=d.doc.createDocumentFragment(),tt=0,et=a.length;tt<et;tt++){var nt=a[tt];nt.node&&nt.node.nodeType&&c.appendChild(nt.node),nt.nodeType&&c.appendChild(nt),"string"==typeof nt&&c.appendChild(Snap.parse(nt).node)}return new Fragment(c)},Snap._.make=make,Snap._.wrap=wrap,Paper.prototype.el=function(a,c){var d=make(a,this.node);return c&&d.attr(c),d},Element.prototype.children=function(){for(var a=[],c=this.node.childNodes,d=0,tt=c.length;d<tt;d++)a[d]=Snap(c[d]);return a},Element.prototype.toJSON=function(){var a=[];return function jsonFiller(a,c){for(var d=0,tt=a.length;d<tt;d++){var et={type:a[d].type,attr:a[d].attr()},nt=a[d].children();c.push(et),nt.length&&jsonFiller(nt,et.childNodes=[])}}([this],a),a[0]},c.on("snap.util.getattr",(function(){var a=c.nt(),d=(a=a.substring(a.lastIndexOf(".")+1)).replace(/[A-Z]/g,(function(a){return"-"+a.toLowerCase()}));return wt[nt](d)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(d):$(this.node,a)}));var wt={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};c.on("snap.util.attr",(function(a){var d=c.nt(),tt={};tt[d=d.substring(d.lastIndexOf(".")+1)]=a;var et=d.replace(/-(\w)/gi,(function(a,c){return c.toUpperCase()})),rt=d.replace(/[A-Z]/g,(function(a){return"-"+a.toLowerCase()}));wt[nt](rt)?this.node.style[et]=null==a?"":a:$(this.node,tt)})),Paper.prototype,Snap.ajax=function(a,d,tt,et){var nt=new XMLHttpRequest,rt=ID();if(nt){if(is(d,"function"))et=tt,tt=d,d=null;else if(is(d,"object")){var it=[];for(var at in d)d.hasOwnProperty(at)&&it.push(encodeURIComponent(at)+"="+encodeURIComponent(d[at]));d=it.join("&")}return nt.open(d?"POST":"GET",a,!0),d&&(nt.setRequestHeader("X-Requested-With","XMLHttpRequest"),nt.setRequestHeader("Content-type","application/x-www-form-urlencoded")),tt&&(c.once("snap.ajax."+rt+".0",tt),c.once("snap.ajax."+rt+".200",tt),c.once("snap.ajax."+rt+".304",tt)),nt.onreadystatechange=function(){4==nt.readyState&&c("snap.ajax."+rt+"."+nt.status,et,nt)},4==nt.readyState?nt:(nt.send(d),nt)}},Snap.load=function(a,c,d){Snap.ajax(a,(function(a){var tt=Snap.parse(a.responseText);d?c.call(d,tt):c(tt)}))};return Snap.getElementByPoint=function(a,c){this.canvas;var tt,et,nt,rt,it,at,ot,st=d.doc.elementFromPoint(a,c);if(d.win.opera&&"svg"==st.tagName){var ut=(et=(tt=st).getBoundingClientRect(),nt=tt.ownerDocument,rt=nt.body,it=nt.documentElement,at=it.clientTop||rt.clientTop||0,ot=it.clientLeft||rt.clientLeft||0,{y:et.top+(g.win.pageYOffset||it.scrollTop||rt.scrollTop)-at,x:et.left+(g.win.pageXOffset||it.scrollLeft||rt.scrollLeft)-ot}),lt=st.createSVGRect();lt.x=a-ut.x,lt.y=c-ut.y,lt.width=lt.height=1;var ct=st.getIntersectionList(lt,null);ct.length&&(st=ct[ct.length-1])}return st?wrap(st):null},Snap.plugin=function(a){a(Snap,Element,Paper,d,Fragment)},d.win.Snap=Snap,Snap}(a||this);return tt.plugin((function(d,tt,et,nt,rt){var it=tt.prototype,at=d.is,ot=String,st=d._unit2px,ut=d._.$,lt=d._.make,ct=d._.getSomeDefs,ht="hasOwnProperty",ft=d._.wrap;it.getBBox=function(a){if("tspan"==this.type)return d._.box(this.node.getClientRects().item(0));if(!d.Matrix||!d.path)return this.node.getBBox();var c=this,tt=new d.Matrix;if(c.removed)return d._.box();for(;"use"==c.type;)if(a||(tt=tt.add(c.transform().localMatrix.translate(c.attr("x")||0,c.attr("y")||0))),c.original)c=c.original;else{var et=c.attr("xlink:href");c=c.original=c.node.ownerDocument.getElementById(et.substring(et.indexOf("#")+1))}var nt=c._,rt=d.path.get[c.type]||d.path.get.deflt;try{return a?(nt.bboxwt=rt?d.path.getBBox(c.realPath=rt(c)):d._.box(c.node.getBBox()),d._.box(nt.bboxwt)):(c.realPath=rt(c),c.matrix=c.transform().localMatrix,nt.bbox=d.path.getBBox(d.path.map(c.realPath,tt.add(c.matrix))),d._.box(nt.bbox))}catch(a){return d._.box()}};var propString=function(){return this.string};function extractTransform(a,c){if(null==c){var tt=!0;if(!(c="linearGradient"==a.type||"radialGradient"==a.type?a.node.getAttribute("gradientTransform"):"pattern"==a.type?a.node.getAttribute("patternTransform"):a.node.getAttribute("transform")))return new d.Matrix;c=d._.svgTransform2string(c)}else c=d._.rgTransform.test(c)?ot(c).replace(/\.{3}|\u2026/g,a._.transform||""):d._.svgTransform2string(c),at(c,"array")&&(c=d.path?d.path.toString.call(c):ot(c)),a._.transform=c;var et=d._.transform2matrix(c,a.getBBox(1));if(tt)return et;a.matrix=et}it.transform=function(a){var c=this._;if(null==a){for(var tt,et=this,nt=new d.Matrix(this.node.getCTM()),rt=extractTransform(this),it=[rt],at=new d.Matrix,st=rt.toTransformString(),lt=ot(rt)==ot(this.matrix)?ot(c.transform):st;"svg"!=et.type&&(et=et.parent());)it.push(extractTransform(et));for(tt=it.length;tt--;)at.add(it[tt]);return{string:lt,globalMatrix:nt,totalMatrix:at,localMatrix:rt,diffMatrix:nt.clone().add(rt.invert()),global:nt.toTransformString(),total:at.toTransformString(),local:st,toString:propString}}return a instanceof d.Matrix?(this.matrix=a,this._.transform=a.toTransformString()):extractTransform(this,a),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?ut(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?ut(this.node,{patternTransform:this.matrix}):ut(this.node,{transform:this.matrix})),this},it.parent=function(){return ft(this.node.parentNode)},it.append=it.add=function(a){if(a){if("set"==a.type){var c=this;return a.forEach((function(a){c.add(a)})),this}a=ft(a),this.node.appendChild(a.node),a.paper=this.paper}return this},it.appendTo=function(a){return a&&(a=ft(a)).append(this),this},it.prepend=function(a){if(a){if("set"==a.type){var c,d=this;return a.forEach((function(a){c?c.after(a):d.prepend(a),c=a})),this}var tt=(a=ft(a)).parent();this.node.insertBefore(a.node,this.node.firstChild),this.add&&this.add(),a.paper=this.paper,this.parent()&&this.parent().add(),tt&&tt.add()}return this},it.prependTo=function(a){return(a=ft(a)).prepend(this),this},it.before=function(a){if("set"==a.type){var c=this;return a.forEach((function(a){var d=a.parent();c.node.parentNode.insertBefore(a.node,c.node),d&&d.add()})),this.parent().add(),this}var d=(a=ft(a)).parent();return this.node.parentNode.insertBefore(a.node,this.node),this.parent()&&this.parent().add(),d&&d.add(),a.paper=this.paper,this},it.after=function(a){var c=(a=ft(a)).parent();return this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node),this.parent()&&this.parent().add(),c&&c.add(),a.paper=this.paper,this},it.insertBefore=function(a){a=ft(a);var c=this.parent();return a.node.parentNode.insertBefore(this.node,a.node),this.paper=a.paper,c&&c.add(),a.parent()&&a.parent().add(),this},it.insertAfter=function(a){a=ft(a);var c=this.parent();return a.node.parentNode.insertBefore(this.node,a.node.nextSibling),this.paper=a.paper,c&&c.add(),a.parent()&&a.parent().add(),this},it.remove=function(){var a=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,a&&a.add(),this},it.select=function(a){return ft(this.node.querySelector(a))},it.selectAll=function(a){for(var c=this.node.querySelectorAll(a),tt=(d.set||Array)(),et=0;et<c.length;et++)tt.push(ft(c[et]));return tt},it.asPX=function(a,c){return null==c&&(c=this.attr(a)),+st(this,a,c)},it.use=function(){var a,c=this.node.id;return c||(c=this.id,ut(this.node,{id:c})),a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?lt(this.type,this.node.parentNode):lt("use",this.node.parentNode),ut(a.node,{"xlink:href":"#"+c}),a.original=this,a},it.clone=function(){var a=ft(this.node.cloneNode(!0));return ut(a.node,"id")&&ut(a.node,{id:a.id}),function fixids(a){var c,tt=a.selectAll("*"),et=/^\s*url\(("|'|)(.*)\1\)\s*$/,nt=[],rt={};function urltest(a,c){var tt=ut(a.node,c);(tt=(tt=tt&&tt.match(et))&&tt[2])&&"#"==tt.charAt()&&(tt=tt.substring(1))&&(rt[tt]=(rt[tt]||[]).concat((function(tt){var et={};et[c]=d.url(tt),ut(a.node,et)})))}function linktest(a){var c=ut(a.node,"xlink:href");c&&"#"==c.charAt()&&(c=c.substring(1))&&(rt[c]=(rt[c]||[]).concat((function(c){a.attr("xlink:href","#"+c)})))}for(var it=0,at=tt.length;it<at;it++){urltest(c=tt[it],"fill"),urltest(c,"stroke"),urltest(c,"filter"),urltest(c,"mask"),urltest(c,"clip-path"),linktest(c);var ot=ut(c.node,"id");ot&&(ut(c.node,{id:c.id}),nt.push({old:ot,id:c.id}))}for(it=0,at=nt.length;it<at;it++){var st=rt[nt[it].old];if(st)for(var lt=0,ct=st.length;lt<ct;lt++)st[lt](nt[it].id)}}(a),a.insertAfter(this),a},it.toDefs=function(){return ct(this).appendChild(this.node),this},it.pattern=it.toPattern=function(a,c,d,tt){var et=lt("pattern",ct(this));return null==a&&(a=this.getBBox()),at(a,"object")&&"x"in a&&(c=a.y,d=a.width,tt=a.height,a=a.x),ut(et.node,{x:a,y:c,width:d,height:tt,patternUnits:"userSpaceOnUse",id:et.id,viewBox:[a,c,d,tt].join(" ")}),et.node.appendChild(this.node),et},it.marker=function(a,c,d,tt,et,nt){var rt=lt("marker",ct(this));return null==a&&(a=this.getBBox()),at(a,"object")&&"x"in a&&(c=a.y,d=a.width,tt=a.height,et=a.refX||a.cx,nt=a.refY||a.cy,a=a.x),ut(rt.node,{viewBox:[a,c,d,tt].join(" "),markerWidth:d,markerHeight:tt,orient:"auto",refX:et||0,refY:nt||0,id:rt.id}),rt.node.appendChild(this.node),rt};var pt={};function toString(a){return function(){var c=a?"<"+this.type:"",d=this.node.attributes,tt=this.node.childNodes;if(a)for(var et=0,nt=d.length;et<nt;et++)c+=" "+d[et].name+'="'+d[et].value.replace(/"/g,'\\"')+'"';if(tt.length){for(a&&(c+=">"),et=0,nt=tt.length;et<nt;et++)3==tt[et].nodeType?c+=tt[et].nodeValue:1==tt[et].nodeType&&(c+=ft(tt[et]).toString());a&&(c+="</"+this.type+">")}else a&&(c+="/>");return c}}it.data=function(a,tt){var et=pt[this.id]=pt[this.id]||{};if(0==arguments.length)return c("snap.data.get."+this.id,this,et,null),et;if(1==arguments.length){if(d.is(a,"object")){for(var nt in a)a[ht](nt)&&this.data(nt,a[nt]);return this}return c("snap.data.get."+this.id,this,et[a],a),et[a]}return et[a]=tt,c("snap.data.set."+this.id,this,tt,a),this},it.removeData=function(a){return null==a?pt[this.id]={}:pt[this.id]&&delete pt[this.id][a],this},it.outerSVG=it.toString=toString(1),it.innerSVG=toString(),it.toDataURL=function(){if(a&&a.btoa){var c=this.getBBox(),tt=d.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+c.x.toFixed(3),y:+c.y.toFixed(3),width:+c.width.toFixed(3),height:+c.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(tt)))}},rt.prototype.select=it.select,rt.prototype.selectAll=it.selectAll})),tt.plugin((function(a,tt,et,nt,rt){var it=tt.prototype,at=a.is,ot=String,st="hasOwnProperty";function slice(a,c,d){return function(tt){var et=tt.slice(a,c);return 1==et.length&&(et=et[0]),d?d(et):et}}var Animation=function(a,c,tt,et){"function"!=typeof tt||tt.length||(et=tt,tt=d.linear),this.attr=a,this.dur=c,tt&&(this.easing=tt),et&&(this.callback=et)};a._.Animation=Animation,a.animation=function(a,c,d,tt){return new Animation(a,c,d,tt)},it.inAnim=function(){var a=[];for(var c in this.anims)this.anims[st](c)&&function(c){a.push({anim:new Animation(c._attrs,c.dur,c.easing,c._callback),mina:c,curStatus:c.status(),status:function(a){return c.status(a)},stop:function(){c.stop()}})}(this.anims[c]);return a},a.animate=function(a,tt,et,nt,rt,it){"function"!=typeof rt||rt.length||(it=rt,rt=d.linear);var at=d.time(),ot=d(a,tt,at,at+nt,d.time,et,rt);return it&&c.once("mina.finish."+ot.id,it),ot},it.stop=function(){for(var a=this.inAnim(),c=0,d=a.length;c<d;c++)a[c].stop();return this},it.animate=function(a,tt,et,nt){"function"!=typeof et||et.length||(nt=et,et=d.linear),a instanceof Animation&&(nt=a.callback,et=a.easing,tt=a.dur,a=a.attr);var rt,it,ut,lt,ct=[],ht=[],ft={},pt=this;for(var dt in a)if(a[st](dt)){pt.equal?(rt=(lt=pt.equal(dt,ot(a[dt]))).from,it=lt.to,ut=lt.f):(rt=+pt.attr(dt),it=+a[dt]);var gt=at(rt,"array")?rt.length:1;ft[dt]=slice(ct.length,ct.length+gt,ut),ct=ct.concat(rt),ht=ht.concat(it)}var mt=d.time(),vt=d(ct,ht,mt,mt+tt,d.time,(function(a){var c={};for(var d in ft)ft[st](d)&&(c[d]=ft[d](a));pt.attr(c)}),et);return pt.anims[vt.id]=vt,vt._attrs=a,vt._callback=nt,c("snap.animcreated."+pt.id,vt),c.once("mina.finish."+vt.id,(function(){c.off("mina.*."+vt.id),delete pt.anims[vt.id],nt&&nt.call(pt)})),c.once("mina.stop."+vt.id,(function(){c.off("mina.*."+vt.id),delete pt.anims[vt.id]})),pt}})),tt.plugin((function(a,c,d,tt,et){var nt=Object.prototype.toString,rt=String,it=Math;function Matrix(a,c,d,tt,et,rt){if(null==c&&"[object SVGMatrix]"==nt.call(a))return this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,void(this.f=a.f);null!=a?(this.a=+a,this.b=+c,this.c=+d,this.d=+tt,this.e=+et,this.f=+rt):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}!function(c){function norm(a){return a[0]*a[0]+a[1]*a[1]}function normalize(a){var c=it.sqrt(norm(a));a[0]&&(a[0]/=c),a[1]&&(a[1]/=c)}c.add=function(a,c,d,tt,et,nt){if(a&&a instanceof Matrix)return this.add(a.a,a.b,a.c,a.d,a.e,a.f);var rt=a*this.a+c*this.c,it=a*this.b+c*this.d;return this.e+=et*this.a+nt*this.c,this.f+=et*this.b+nt*this.d,this.c=d*this.a+tt*this.c,this.d=d*this.b+tt*this.d,this.a=rt,this.b=it,this},Matrix.prototype.multLeft=function(a,c,d,tt,et,nt){if(a&&a instanceof Matrix)return this.multLeft(a.a,a.b,a.c,a.d,a.e,a.f);var rt=a*this.a+d*this.b,it=a*this.c+d*this.d,at=a*this.e+d*this.f+et;return this.b=c*this.a+tt*this.b,this.d=c*this.c+tt*this.d,this.f=c*this.e+tt*this.f+nt,this.a=rt,this.c=it,this.e=at,this},c.invert=function(){var a=this,c=a.a*a.d-a.b*a.c;return new Matrix(a.d/c,-a.b/c,-a.c/c,a.a/c,(a.c*a.f-a.d*a.e)/c,(a.b*a.e-a.a*a.f)/c)},c.clone=function(){return new Matrix(this.a,this.b,this.c,this.d,this.e,this.f)},c.translate=function(a,c){return this.e+=a*this.a+c*this.c,this.f+=a*this.b+c*this.d,this},c.scale=function(a,c,d,tt){return null==c&&(c=a),(d||tt)&&this.translate(d,tt),this.a*=a,this.b*=a,this.c*=c,this.d*=c,(d||tt)&&this.translate(-d,-tt),this},c.rotate=function(c,d,tt){c=a.rad(c),d=d||0,tt=tt||0;var et=+it.cos(c).toFixed(9),nt=+it.sin(c).toFixed(9);return this.add(et,nt,-nt,et,d,tt),this.add(1,0,0,1,-d,-tt)},c.skewX=function(a){return this.skew(a,0)},c.skewY=function(a){return this.skew(0,a)},c.skew=function(c,d){c=c||0,d=d||0,c=a.rad(c),d=a.rad(d);var tt=it.tan(c).toFixed(9),et=it.tan(d).toFixed(9);return this.add(1,et,tt,1,0,0)},c.x=function(a,c){return a*this.a+c*this.c+this.e},c.y=function(a,c){return a*this.b+c*this.d+this.f},c.get=function(a){return+this[rt.fromCharCode(97+a)].toFixed(4)},c.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},c.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},c.determinant=function(){return this.a*this.d-this.b*this.c},c.split=function(){var c={};c.dx=this.e,c.dy=this.f;var d=[[this.a,this.b],[this.c,this.d]];c.scalex=it.sqrt(norm(d[0])),normalize(d[0]),c.shear=d[0][0]*d[1][0]+d[0][1]*d[1][1],d[1]=[d[1][0]-d[0][0]*c.shear,d[1][1]-d[0][1]*c.shear],c.scaley=it.sqrt(norm(d[1])),normalize(d[1]),c.shear/=c.scaley,this.determinant()<0&&(c.scalex=-c.scalex);var tt=d[0][1],et=d[1][1];return et<0?(c.rotate=a.deg(it.acos(et)),tt<0&&(c.rotate=360-c.rotate)):c.rotate=a.deg(it.asin(tt)),c.isSimple=!(+c.shear.toFixed(9)||c.scalex.toFixed(9)!=c.scaley.toFixed(9)&&c.rotate),c.isSuperSimple=!+c.shear.toFixed(9)&&c.scalex.toFixed(9)==c.scaley.toFixed(9)&&!c.rotate,c.noRotation=!+c.shear.toFixed(9)&&!c.rotate,c},c.toTransformString=function(a){var c=a||this.split();return+c.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(c.scalex=+c.scalex.toFixed(4),c.scaley=+c.scaley.toFixed(4),c.rotate=+c.rotate.toFixed(4),(c.dx||c.dy?"t"+[+c.dx.toFixed(4),+c.dy.toFixed(4)]:"")+(c.rotate?"r"+[+c.rotate.toFixed(4),0,0]:"")+(1!=c.scalex||1!=c.scaley?"s"+[c.scalex,c.scaley,0,0]:""))}}(Matrix.prototype),a.Matrix=Matrix,a.matrix=function(a,c,d,tt,et,nt){return new Matrix(a,c,d,tt,et,nt)}})),tt.plugin((function(a,d,tt,et,nt){var rt,it=a._.make,at=a._.wrap,ot=a.is,st=a._.getSomeDefs,ut=/^url\((['"]?)([^)]+)\1\)$/,lt=a._.$,ct=a.url,ht=String,ft=a._.separator;function fillStroke(tt){return function(et){if(c.stop(),et instanceof nt&&1==et.node.childNodes.length&&("radialGradient"==et.node.firstChild.tagName||"linearGradient"==et.node.firstChild.tagName||"pattern"==et.node.firstChild.tagName)&&(et=et.node.firstChild,st(this).appendChild(et),et=at(et)),et instanceof d)if("radialGradient"==et.type||"linearGradient"==et.type||"pattern"==et.type){et.node.id||lt(et.node,{id:et.id});var rt=ct(et.node.id)}else rt=et.attr(tt);else if((rt=a.color(et)).error){var it=a(st(this).ownerSVGElement).gradient(et);it?(it.node.id||lt(it.node,{id:it.id}),rt=ct(it.node.id)):rt=et}else rt=ht(rt);var ot={};ot[tt]=rt,lt(this.node,ot),this.node.style[tt]=""}}a.deurl=function(a){var c=String(a).match(ut);return c?c[2]:a},c.on("snap.util.attr.mask",(function(a){if(a instanceof d||a instanceof nt){if(c.stop(),a instanceof nt&&1==a.node.childNodes.length&&(a=a.node.firstChild,st(this).appendChild(a),a=at(a)),"mask"==a.type)var tt=a;else(tt=it("mask",st(this))).node.appendChild(a.node);!tt.node.id&&lt(tt.node,{id:tt.id}),lt(this.node,{mask:ct(tt.id)})}})),rt=function(a){if(a instanceof d||a instanceof nt){c.stop();for(var tt,et=a.node;et;){if("clipPath"===et.nodeName){tt=new d(et);break}if("svg"===et.nodeName){tt=void 0;break}et=et.parentNode}tt||((tt=it("clipPath",st(this))).node.appendChild(a.node),!tt.node.id&&lt(tt.node,{id:tt.id})),lt(this.node,{"clip-path":ct(tt.node.id||tt.id)})}},c.on("snap.util.attr.clip",rt),c.on("snap.util.attr.clip-path",rt),c.on("snap.util.attr.clipPath",rt),c.on("snap.util.attr.fill",fillStroke("fill")),c.on("snap.util.attr.stroke",fillStroke("stroke"));var pt=/^([lr])(?:\(([^)]*)\))?(.*)$/i;function setFontSize(a){c.stop(),a==+a&&(a+="px"),this.node.style.fontSize=a}function getFontSize(){return c.stop(),this.node.style.fontSize}c.on("snap.util.grad.parse",(function parseGrad(a){var c=(a=ht(a)).match(pt);if(!c)return null;var d=c[1],tt=c[2],et=c[3];1==(tt=tt.split(/\s*,\s*/).map((function(a){return+a==a?+a:a}))).length&&0==tt[0]&&(tt=[]);var nt=(et=(et=et.split("-")).map((function(a){var c={color:(a=a.split(":"))[0]};return a[1]&&(c.offset=parseFloat(a[1])),c}))).length,rt=0,it=0;function seed(a,c){for(var d=(c-rt)/(a-it),tt=it;tt<a;tt++)et[tt].offset=+(+rt+d*(tt-it)).toFixed(2);it=a,rt=c}nt--;for(var at=0;at<nt;at++)"offset"in et[at]&&seed(at,et[at].offset);return et[nt].offset=et[nt].offset||100,seed(nt,et[nt].offset),{type:d,params:tt,stops:et}})),c.on("snap.util.attr.d",(function(d){c.stop(),ot(d,"array")&&ot(d[0],"array")&&(d=a.path.toString.call(d)),(d=ht(d)).match(/[ruo]/i)&&(d=a.path.toAbsolute(d)),lt(this.node,{d:d})}))(-1),c.on("snap.util.attr.#text",(function(a){c.stop(),a=ht(a);for(var d=et.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(d)}))(-1),c.on("snap.util.attr.path",(function(a){c.stop(),this.attr({d:a})}))(-1),c.on("snap.util.attr.class",(function(a){c.stop(),this.node.className.baseVal=a}))(-1),c.on("snap.util.attr.viewBox",(function(a){var d;d=ot(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):ot(a,"array")?a.join(" "):a,lt(this.node,{viewBox:d}),c.stop()}))(-1),c.on("snap.util.attr.transform",(function(a){this.transform(a),c.stop()}))(-1),c.on("snap.util.attr.r",(function(a){"rect"==this.type&&(c.stop(),lt(this.node,{rx:a,ry:a}))}))(-1),c.on("snap.util.attr.textpath",(function(a){if(c.stop(),"text"==this.type){var tt,et,nt;if(!a&&this.textPath){for(et=this.textPath;et.node.firstChild;)this.node.appendChild(et.node.firstChild);return et.remove(),void delete this.textPath}if(ot(a,"string")){var rt=st(this),it=at(rt.parentNode).path(a);rt.appendChild(it.node),tt=it.id,it.attr({id:tt})}else(a=at(a))instanceof d&&((tt=a.attr("id"))||(tt=a.id,a.attr({id:tt})));if(tt)if(et=this.textPath,nt=this.node,et)et.attr({"xlink:href":"#"+tt});else{for(et=lt("textPath",{"xlink:href":"#"+tt});nt.firstChild;)et.appendChild(nt.firstChild);nt.appendChild(et),this.textPath=at(et)}}}))(-1),c.on("snap.util.attr.text",(function(a){if("text"==this.type){for(var d=this.node,tuner=function(a){var c=lt("tspan");if(ot(a,"array"))for(var d=0;d<a.length;d++)c.appendChild(tuner(a[d]));else c.appendChild(et.doc.createTextNode(a));return c.normalize&&c.normalize(),c};d.firstChild;)d.removeChild(d.firstChild);for(var tt=tuner(a);tt.firstChild;)d.appendChild(tt.firstChild)}c.stop()}))(-1),c.on("snap.util.attr.fontSize",setFontSize)(-1),c.on("snap.util.attr.font-size",setFontSize)(-1),c.on("snap.util.getattr.transform",(function(){return c.stop(),this.transform()}))(-1),c.on("snap.util.getattr.textpath",(function(){return c.stop(),this.textPath}))(-1),function(){function getter(d){return function(){c.stop();var tt=et.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+d);return"none"==tt?tt:a(et.doc.getElementById(tt.match(ut)[1]))}}function setter(a){return function(d){c.stop();var tt="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""!=d&&d){if("marker"==d.type){var et=d.node.id;return et||lt(d.node,{id:d.id}),void(this.node.style[tt]=ct(et))}}else this.node.style[tt]="none"}}c.on("snap.util.getattr.marker-end",getter("end"))(-1),c.on("snap.util.getattr.markerEnd",getter("end"))(-1),c.on("snap.util.getattr.marker-start",getter("start"))(-1),c.on("snap.util.getattr.markerStart",getter("start"))(-1),c.on("snap.util.getattr.marker-mid",getter("mid"))(-1),c.on("snap.util.getattr.markerMid",getter("mid"))(-1),c.on("snap.util.attr.marker-end",setter("end"))(-1),c.on("snap.util.attr.markerEnd",setter("end"))(-1),c.on("snap.util.attr.marker-start",setter("start"))(-1),c.on("snap.util.attr.markerStart",setter("start"))(-1),c.on("snap.util.attr.marker-mid",setter("mid"))(-1),c.on("snap.util.attr.markerMid",setter("mid"))(-1)}(),c.on("snap.util.getattr.r",(function(){if("rect"==this.type&&lt(this.node,"rx")==lt(this.node,"ry"))return c.stop(),lt(this.node,"rx")}))(-1),c.on("snap.util.getattr.text",(function(){if("text"==this.type||"tspan"==this.type){c.stop();var a=function textExtract(a){for(var c=[],d=a.childNodes,tt=0,et=d.length;tt<et;tt++){var nt=d[tt];3==nt.nodeType&&c.push(nt.nodeValue),"tspan"==nt.tagName&&(1==nt.childNodes.length&&3==nt.firstChild.nodeType?c.push(nt.firstChild.nodeValue):c.push(textExtract(nt)))}return c}(this.node);return 1==a.length?a[0]:a}}))(-1),c.on("snap.util.getattr.#text",(function(){return this.node.textContent}))(-1),c.on("snap.util.getattr.fill",(function(d){if(!d){c.stop();var tt=c("snap.util.getattr.fill",this,!0).firstDefined();return a(a.deurl(tt))||tt}}))(-1),c.on("snap.util.getattr.stroke",(function(d){if(!d){c.stop();var tt=c("snap.util.getattr.stroke",this,!0).firstDefined();return a(a.deurl(tt))||tt}}))(-1),c.on("snap.util.getattr.viewBox",(function(){c.stop();var d=lt(this.node,"viewBox");return d?(d=d.split(ft),a._.box(+d[0],+d[1],+d[2],+d[3])):void 0}))(-1),c.on("snap.util.getattr.points",(function(){var a=lt(this.node,"points");return c.stop(),a?a.split(ft):void 0}))(-1),c.on("snap.util.getattr.path",(function(){var a=lt(this.node,"d");return c.stop(),a}))(-1),c.on("snap.util.getattr.class",(function(){return this.node.className.baseVal}))(-1),c.on("snap.util.getattr.fontSize",getFontSize)(-1),c.on("snap.util.getattr.font-size",getFontSize)(-1)})),tt.plugin((function(a,c,d,tt,et){var nt=/\S+/g,rt=String,it=c.prototype;it.addClass=function(a){var c,d,tt,et=rt(a||"").match(nt)||[],it=this.node,at=it.className.baseVal,ot=at.match(nt)||[];if(et.length){for(c=0;d=et[c++];)~ot.indexOf(d)||ot.push(d);at!=(tt=ot.join(" "))&&(it.className.baseVal=tt)}return this},it.removeClass=function(a){var c,d,tt,et,it=rt(a||"").match(nt)||[],at=this.node,ot=at.className.baseVal,st=ot.match(nt)||[];if(st.length){for(c=0;tt=it[c++];)~(d=st.indexOf(tt))&&st.splice(d,1);ot!=(et=st.join(" "))&&(at.className.baseVal=et)}return this},it.hasClass=function(a){return!!~(this.node.className.baseVal.match(nt)||[]).indexOf(a)},it.toggleClass=function(a,c){if(null!=c)return c?this.addClass(a):this.removeClass(a);var d,tt,et,rt,it=(a||"").match(nt)||[],at=this.node,ot=at.className.baseVal,st=ot.match(nt)||[];for(d=0;et=it[d++];)~(tt=st.indexOf(et))?st.splice(tt,1):st.push(et);return ot!=(rt=st.join(" "))&&(at.className.baseVal=rt),this}})),tt.plugin((function(a,d,tt,et,nt){var rt={"+":function(a,c){return a+c},"-":function(a,c){return a-c},"/":function(a,c){return a/c},"*":function(a,c){return a*c}},it=String,at=/[a-z]+$/i,ot=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;function getNumber(a){return a}function getUnit(a){return function(c){return+c.toFixed(3)+a}}c.on("snap.util.attr",(function(a){var d=it(a).match(ot);if(d){var tt=c.nt(),et=tt.substring(tt.lastIndexOf(".")+1),nt=this.attr(et),st={};c.stop();var ut=d[3]||"",lt=nt.match(at),ct=rt[d[1]];if(lt&&lt==ut?a=ct(parseFloat(nt),+d[2]):(nt=this.asPX(et),a=ct(this.asPX(et),this.asPX(et,d[2]+ut))),isNaN(nt)||isNaN(a))return;st[et]=a,this.attr(st)}}))(-10),c.on("snap.util.equal",(function(a,d){var tt=it(this.attr(a)||""),et=it(d).match(ot);if(et){c.stop();var nt=et[3]||"",st=tt.match(at),ut=rt[et[1]];return st&&st==nt?{from:parseFloat(tt),to:ut(parseFloat(tt),+et[2]),f:getUnit(st)}:{from:tt=this.asPX(a),to:ut(tt,this.asPX(a,et[2]+nt)),f:getNumber}}}))(-10)})),tt.plugin((function(d,tt,et,nt,rt){var it=et.prototype,at=d.is;it.rect=function(a,c,d,tt,et,nt){var rt;return null==nt&&(nt=et),at(a,"object")&&"[object Object]"==a?rt=a:null!=a&&(rt={x:a,y:c,width:d,height:tt},null!=et&&(rt.rx=et,rt.ry=nt)),this.el("rect",rt)},it.circle=function(a,c,d){var tt;return at(a,"object")&&"[object Object]"==a?tt=a:null!=a&&(tt={cx:a,cy:c,r:d}),this.el("circle",tt)};var ot=function(){function onerror(){this.parentNode.removeChild(this)}return function(a,c){var d=nt.doc.createElement("img"),tt=nt.doc.body;d.style.cssText="position:absolute;left:-9999em;top:-9999em",d.onload=function(){c.call(d),d.onload=d.onerror=null,tt.removeChild(d)},d.onerror=onerror,tt.appendChild(d),d.src=a}}();it.image=function(a,c,tt,et,nt){var rt=this.el("image");if(at(a,"object")&&"src"in a)rt.attr(a);else if(null!=a){var it={"xlink:href":a,preserveAspectRatio:"none"};null!=c&&null!=tt&&(it.x=c,it.y=tt),null!=et&&null!=nt?(it.width=et,it.height=nt):ot(a,(function(){d._.$(rt.node,{width:this.offsetWidth,height:this.offsetHeight})})),d._.$(rt.node,it)}return rt},it.ellipse=function(a,c,d,tt){var et;return at(a,"object")&&"[object Object]"==a?et=a:null!=a&&(et={cx:a,cy:c,rx:d,ry:tt}),this.el("ellipse",et)},it.path=function(a){var c;return at(a,"object")&&!at(a,"array")?c=a:a&&(c={d:a}),this.el("path",c)},it.group=it.g=function(a){var c=this.el("g");return 1==arguments.length&&a&&!a.type?c.attr(a):arguments.length&&c.add(Array.prototype.slice.call(arguments,0)),c},it.svg=function(a,c,d,tt,et,nt,rt,it){var ot={};return at(a,"object")&&null==c?ot=a:(null!=a&&(ot.x=a),null!=c&&(ot.y=c),null!=d&&(ot.width=d),null!=tt&&(ot.height=tt),null!=et&&null!=nt&&null!=rt&&null!=it&&(ot.viewBox=[et,nt,rt,it])),this.el("svg",ot)},it.mask=function(a){var c=this.el("mask");return 1==arguments.length&&a&&!a.type?c.attr(a):arguments.length&&c.add(Array.prototype.slice.call(arguments,0)),c},it.ptrn=function(a,c,d,tt,et,nt,rt,it){if(at(a,"object"))var ot=a;else ot={patternUnits:"userSpaceOnUse"},a&&(ot.x=a),c&&(ot.y=c),null!=d&&(ot.width=d),null!=tt&&(ot.height=tt),ot.viewBox=null!=et&&null!=nt&&null!=rt&&null!=it?[et,nt,rt,it]:[a||0,c||0,d||0,tt||0];return this.el("pattern",ot)},it.use=function(a){return null!=a?(a instanceof tt&&(a.attr("id")||a.attr({id:d._.id(a)}),a=a.attr("id")),"#"==String(a).charAt()&&(a=a.substring(1)),this.el("use",{"xlink:href":"#"+a})):tt.prototype.use.call(this)},it.symbol=function(a,c,d,tt){var et={};return null!=a&&null!=c&&null!=d&&null!=tt&&(et.viewBox=[a,c,d,tt]),this.el("symbol",et)},it.text=function(a,c,d){var tt={};return at(a,"object")?tt=a:null!=a&&(tt={x:a,y:c,text:d||""}),this.el("text",tt)},it.line=function(a,c,d,tt){var et={};return at(a,"object")?et=a:null!=a&&(et={x1:a,x2:d,y1:c,y2:tt}),this.el("line",et)},it.polyline=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var c={};return at(a,"object")&&!at(a,"array")?c=a:null!=a&&(c={points:a}),this.el("polyline",c)},it.polygon=function(a){arguments.length>1&&(a=Array.prototype.slice.call(arguments,0));var c={};return at(a,"object")&&!at(a,"array")?c=a:null!=a&&(c={points:a}),this.el("polygon",c)},function(){var tt=d._.$;function Gstops(){return this.selectAll("stop")}function GaddStop(a,c){var et=tt("stop"),nt={offset:+c+"%"};a=d.color(a),nt["stop-color"]=a.hex,a.opacity<1&&(nt["stop-opacity"]=a.opacity),tt(et,nt);for(var rt,it=this.stops(),at=0;at<it.length;at++){if(parseFloat(it[at].attr("offset"))>c){this.node.insertBefore(et,it[at].node),rt=!0;break}}return rt||this.node.appendChild(et),this}function GgetBBox(){if("linearGradient"==this.type){var a=tt(this.node,"x1")||0,c=tt(this.node,"x2")||1,et=tt(this.node,"y1")||0,nt=tt(this.node,"y2")||0;return d._.box(a,et,math.abs(c-a),math.abs(nt-et))}var rt=this.node.cx||.5,it=this.node.cy||.5,at=this.node.r||0;return d._.box(rt-at,it-at,2*at,2*at)}function GsetStops(a){var tt=a,et=this.stops();if("string"==typeof a&&(tt=c("snap.util.grad.parse",null,"l(0,0,0,1)"+a).firstDefined().stops),d.is(tt,"array")){for(var nt=0;nt<et.length;nt++)if(tt[nt]){var rt=d.color(tt[nt].color),it={offset:tt[nt].offset+"%"};it["stop-color"]=rt.hex,rt.opacity<1&&(it["stop-opacity"]=rt.opacity),et[nt].attr(it)}else et[nt].remove();for(nt=et.length;nt<tt.length;nt++)this.addStop(tt[nt].color,tt[nt].offset);return this}}function gradientLinear(a,c,et,nt,rt){var it=d._.make("linearGradient",a);return it.stops=Gstops,it.addStop=GaddStop,it.getBBox=GgetBBox,it.setStops=GsetStops,null!=c&&tt(it.node,{x1:c,y1:et,x2:nt,y2:rt}),it}function gradientRadial(a,c,et,nt,rt,it){var at=d._.make("radialGradient",a);return at.stops=Gstops,at.addStop=GaddStop,at.getBBox=GgetBBox,null!=c&&tt(at.node,{cx:c,cy:et,r:nt}),null!=rt&&null!=it&&tt(at.node,{fx:rt,fy:it}),at}it.gradient=function(a){return function gradient(a,d){var et,nt=c("snap.util.grad.parse",null,d).firstDefined();if(!nt)return null;nt.params.unshift(a),et="l"==nt.type.toLowerCase()?gradientLinear.apply(0,nt.params):gradientRadial.apply(0,nt.params),nt.type!=nt.type.toLowerCase()&&tt(et.node,{gradientUnits:"userSpaceOnUse"});for(var rt=nt.stops,it=rt.length,at=0;at<it;at++){var ot=rt[at];et.addStop(ot.color,ot.offset)}return et}(this.defs,a)},it.gradientLinear=function(a,c,d,tt){return gradientLinear(this.defs,a,c,d,tt)},it.gradientRadial=function(a,c,d,tt,et){return gradientRadial(this.defs,a,c,d,tt,et)},it.toString=function(){var a,c=this.node.ownerDocument,tt=c.createDocumentFragment(),et=c.createElement("div"),nt=this.node.cloneNode(!0);return tt.appendChild(et),et.appendChild(nt),d._.$(nt,{xmlns:"http://www.w3.org/2000/svg"}),a=et.innerHTML,tt.removeChild(tt.firstChild),a},it.toDataURL=function(){if(a&&a.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))},it.clear=function(){for(var a,c=this.node.firstChild;c;)a=c.nextSibling,"defs"!=c.tagName?c.parentNode.removeChild(c):it.clear.call({node:c}),c=a}}()})),tt.plugin((function(a,c,d,tt){var et=c.prototype,nt=a.is,rt=a._.clone,it=/,?([a-z]),?/gi,at=parseFloat,ot=Math,st=ot.PI,ut=ot.min,lt=ot.max,ct=ot.pow,ht=ot.abs;function paths(a){var c=paths.ps=paths.ps||{};return c[a]?c[a].sleep=100:c[a]={sleep:100},setTimeout((function(){for(var d in c)c.hasOwnProperty(d)&&d!=a&&(c[d].sleep--,!c[d].sleep&&delete c[d])})),c[a]}function box(a,c,d,tt){return null==a&&(a=c=d=tt=0),null==c&&(c=a.y,d=a.width,tt=a.height,a=a.x),{x:a,y:c,width:d,w:d,height:tt,h:tt,x2:a+d,y2:c+tt,cx:a+d/2,cy:c+tt/2,r1:ot.min(d,tt)/2,r2:ot.max(d,tt)/2,r0:ot.sqrt(d*d+tt*tt)/2,path:rectPath(a,c,d,tt),vb:[a,c,d,tt].join(" ")}}function toString(){return this.join(",").replace(it,"$1")}function pathClone(a){var c=rt(a);return c.toString=toString,c}function getPointAtSegmentLength(a,c,d,tt,et,nt,rt,it,at){return null==at?bezlen(a,c,d,tt,et,nt,rt,it):findDotsAtSegment(a,c,d,tt,et,nt,rt,it,function getTotLen(a,c,d,tt,et,nt,rt,it,at){if(at<0||bezlen(a,c,d,tt,et,nt,rt,it)<at)return;var ot,st=.5,ut=1-st;ot=bezlen(a,c,d,tt,et,nt,rt,it,ut);for(;ht(ot-at)>.01;)ot=bezlen(a,c,d,tt,et,nt,rt,it,ut+=(ot<at?1:-1)*(st/=2));return ut}(a,c,d,tt,et,nt,rt,it,at))}function getLengthFactory(d,tt){function O(a){return+(+a).toFixed(3)}return a._.cacher((function(a,et,nt){a instanceof c&&(a=a.attr("d"));for(var rt,it,at,ot,st,ut="",lt={},ct=0,ht=0,ft=(a=path2curve(a)).length;ht<ft;ht++){if("M"==(at=a[ht])[0])rt=+at[1],it=+at[2];else{if(ct+(ot=getPointAtSegmentLength(rt,it,at[1],at[2],at[3],at[4],at[5],at[6]))>et){if(tt&&!lt.start){if(ut+=["C"+O((st=getPointAtSegmentLength(rt,it,at[1],at[2],at[3],at[4],at[5],at[6],et-ct)).start.x),O(st.start.y),O(st.m.x),O(st.m.y),O(st.x),O(st.y)],nt)return ut;lt.start=ut,ut=["M"+O(st.x),O(st.y)+"C"+O(st.n.x),O(st.n.y),O(st.end.x),O(st.end.y),O(at[5]),O(at[6])].join(),ct+=ot,rt=+at[5],it=+at[6];continue}if(!d&&!tt)return st=getPointAtSegmentLength(rt,it,at[1],at[2],at[3],at[4],at[5],at[6],et-ct)}ct+=ot,rt=+at[5],it=+at[6]}ut+=at.shift()+at}return lt.end=ut,st=d?ct:tt?lt:findDotsAtSegment(rt,it,at[0],at[1],at[2],at[3],at[4],at[5],1)}),null,a._.clone)}var ft=getLengthFactory(1),pt=getLengthFactory(),dt=getLengthFactory(0,1);function findDotsAtSegment(a,c,d,tt,et,nt,rt,it,at){var ut=1-at,lt=ct(ut,3),ht=ct(ut,2),ft=at*at,pt=ft*at,dt=a+2*at*(d-a)+ft*(et-2*d+a),gt=c+2*at*(tt-c)+ft*(nt-2*tt+c),mt=d+2*at*(et-d)+ft*(rt-2*et+d),vt=tt+2*at*(nt-tt)+ft*(it-2*nt+tt);return{x:lt*a+3*ht*at*d+3*ut*at*at*et+pt*rt,y:lt*c+3*ht*at*tt+3*ut*at*at*nt+pt*it,m:{x:dt,y:gt},n:{x:mt,y:vt},start:{x:ut*a+at*d,y:ut*c+at*tt},end:{x:ut*et+at*rt,y:ut*nt+at*it},alpha:90-180*ot.atan2(dt-mt,gt-vt)/st}}function bezierBBox(c,d,tt,et,nt,rt,it,at){a.is(c,"array")||(c=[c,d,tt,et,nt,rt,it,at]);var ot=curveDim.apply(null,c);return box(ot.min.x,ot.min.y,ot.max.x-ot.min.x,ot.max.y-ot.min.y)}function isPointInsideBBox(a,c,d){return c>=a.x&&c<=a.x+a.width&&d>=a.y&&d<=a.y+a.height}function isBBoxIntersect(a,c){return a=box(a),isPointInsideBBox(c=box(c),a.x,a.y)||isPointInsideBBox(c,a.x2,a.y)||isPointInsideBBox(c,a.x,a.y2)||isPointInsideBBox(c,a.x2,a.y2)||isPointInsideBBox(a,c.x,c.y)||isPointInsideBBox(a,c.x2,c.y)||isPointInsideBBox(a,c.x,c.y2)||isPointInsideBBox(a,c.x2,c.y2)||(a.x<c.x2&&a.x>c.x||c.x<a.x2&&c.x>a.x)&&(a.y<c.y2&&a.y>c.y||c.y<a.y2&&c.y>a.y)}function base3(a,c,d,tt,et){return a*(a*(-3*c+9*d-9*tt+3*et)+6*c-12*d+6*tt)-3*c+3*d}function bezlen(a,c,d,tt,et,nt,rt,it,at){null==at&&(at=1);for(var st=(at=at>1?1:at<0?0:at)/2,ut=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],lt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ct=0,ht=0;ht<12;ht++){var ft=st*ut[ht]+st,pt=base3(ft,a,d,et,rt),dt=base3(ft,c,tt,nt,it),gt=pt*pt+dt*dt;ct+=lt[ht]*ot.sqrt(gt)}return st*ct}function intersect(a,c,d,tt,et,nt,rt,it){if(!(lt(a,d)<ut(et,rt)||ut(a,d)>lt(et,rt)||lt(c,tt)<ut(nt,it)||ut(c,tt)>lt(nt,it))){var at=(a-d)*(nt-it)-(c-tt)*(et-rt);if(at){var ot=((a*tt-c*d)*(et-rt)-(a-d)*(et*it-nt*rt))/at,st=((a*tt-c*d)*(nt-it)-(c-tt)*(et*it-nt*rt))/at,ct=+ot.toFixed(2),ht=+st.toFixed(2);if(!(ct<+ut(a,d).toFixed(2)||ct>+lt(a,d).toFixed(2)||ct<+ut(et,rt).toFixed(2)||ct>+lt(et,rt).toFixed(2)||ht<+ut(c,tt).toFixed(2)||ht>+lt(c,tt).toFixed(2)||ht<+ut(nt,it).toFixed(2)||ht>+lt(nt,it).toFixed(2)))return{x:ot,y:st}}}}function interHelper(a,c,d){if(!isBBoxIntersect(bezierBBox(a),bezierBBox(c)))return d?0:[];for(var tt=~~(bezlen.apply(0,a)/8),et=~~(bezlen.apply(0,c)/8),nt=[],rt=[],it={},at=d?0:[],ot=0;ot<tt+1;ot++){var st=findDotsAtSegment.apply(0,a.concat(ot/tt));nt.push({x:st.x,y:st.y,t:ot/tt})}for(ot=0;ot<et+1;ot++)st=findDotsAtSegment.apply(0,c.concat(ot/et)),rt.push({x:st.x,y:st.y,t:ot/et});for(ot=0;ot<tt;ot++)for(var ut=0;ut<et;ut++){var lt=nt[ot],ct=nt[ot+1],ft=rt[ut],pt=rt[ut+1],dt=ht(ct.x-lt.x)<.001?"y":"x",gt=ht(pt.x-ft.x)<.001?"y":"x",mt=intersect(lt.x,lt.y,ct.x,ct.y,ft.x,ft.y,pt.x,pt.y);if(mt){if(it[mt.x.toFixed(4)]==mt.y.toFixed(4))continue;it[mt.x.toFixed(4)]=mt.y.toFixed(4);var vt=lt.t+ht((mt[dt]-lt[dt])/(ct[dt]-lt[dt]))*(ct.t-lt.t),yt=ft.t+ht((mt[gt]-ft[gt])/(pt[gt]-ft[gt]))*(pt.t-ft.t);vt>=0&&vt<=1&&yt>=0&&yt<=1&&(d?at++:at.push({x:mt.x,y:mt.y,t1:vt,t2:yt}))}}return at}function interPathHelper(a,c,d){a=path2curve(a),c=path2curve(c);for(var tt,et,nt,rt,it,at,ot,st,ut,lt,ct=d?0:[],ht=0,ft=a.length;ht<ft;ht++){var pt=a[ht];if("M"==pt[0])tt=it=pt[1],et=at=pt[2];else{"C"==pt[0]?(ut=[tt,et].concat(pt.slice(1)),tt=ut[6],et=ut[7]):(ut=[tt,et,tt,et,it,at,it,at],tt=it,et=at);for(var dt=0,gt=c.length;dt<gt;dt++){var mt=c[dt];if("M"==mt[0])nt=ot=mt[1],rt=st=mt[2];else{"C"==mt[0]?(lt=[nt,rt].concat(mt.slice(1)),nt=lt[6],rt=lt[7]):(lt=[nt,rt,nt,rt,ot,st,ot,st],nt=ot,rt=st);var vt=interHelper(ut,lt,d);if(d)ct+=vt;else{for(var yt=0,xt=vt.length;yt<xt;yt++)vt[yt].segment1=ht,vt[yt].segment2=dt,vt[yt].bez1=ut,vt[yt].bez2=lt;ct=ct.concat(vt)}}}}}return ct}function pathBBox(a){var c=paths(a);if(c.bbox)return rt(c.bbox);if(!a)return box();for(var d,tt=0,et=0,nt=[],it=[],at=0,ot=(a=path2curve(a)).length;at<ot;at++)if("M"==(d=a[at])[0])tt=d[1],et=d[2],nt.push(tt),it.push(et);else{var st=curveDim(tt,et,d[1],d[2],d[3],d[4],d[5],d[6]);nt=nt.concat(st.min.x,st.max.x),it=it.concat(st.min.y,st.max.y),tt=d[5],et=d[6]}var ct=ut.apply(0,nt),ht=ut.apply(0,it),ft=box(ct,ht,lt.apply(0,nt)-ct,lt.apply(0,it)-ht);return c.bbox=rt(ft),ft}function rectPath(a,c,d,tt,et){if(et)return[["M",+a+ +et,c],["l",d-2*et,0],["a",et,et,0,0,1,et,et],["l",0,tt-2*et],["a",et,et,0,0,1,-et,et],["l",2*et-d,0],["a",et,et,0,0,1,-et,-et],["l",0,2*et-tt],["a",et,et,0,0,1,et,-et],["z"]];var nt=[["M",a,c],["l",d,0],["l",0,tt],["l",-d,0],["z"]];return nt.toString=toString,nt}function ellipsePath(a,c,d,tt,et){if(null==et&&null==tt&&(tt=d),a=+a,c=+c,d=+d,tt=+tt,null!=et)var nt=Math.PI/180,rt=a+d*Math.cos(-tt*nt),it=a+d*Math.cos(-et*nt),at=[["M",rt,c+d*Math.sin(-tt*nt)],["A",d,d,0,+(et-tt>180),0,it,c+d*Math.sin(-et*nt)]];else at=[["M",a,c],["m",0,-tt],["a",d,tt,0,1,1,0,2*tt],["a",d,tt,0,1,1,0,-2*tt],["z"]];return at.toString=toString,at}var gt=a._unit2px,mt={path:function(a){return a.attr("path")},circle:function(a){var c=gt(a);return ellipsePath(c.cx,c.cy,c.r)},ellipse:function(a){var c=gt(a);return ellipsePath(c.cx||0,c.cy||0,c.rx,c.ry)},rect:function(a){var c=gt(a);return rectPath(c.x||0,c.y||0,c.width,c.height,c.rx,c.ry)},image:function(a){var c=gt(a);return rectPath(c.x||0,c.y||0,c.width,c.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){var c=a.node.getBBox();return rectPath(c.x,c.y,c.width,c.height)}};function pathToAbsolute(c){var d=paths(c);if(d.abs)return pathClone(d.abs);if(nt(c,"array")&&nt(c&&c[0],"array")||(c=a.parsePathString(c)),!c||!c.length)return[["M",0,0]];var tt,et=[],rt=0,it=0,at=0,ot=0,st=0;"M"==c[0][0]&&(at=rt=+c[0][1],ot=it=+c[0][2],st++,et[0]=["M",rt,it]);for(var ut,lt,ct=3==c.length&&"M"==c[0][0]&&"R"==c[1][0].toUpperCase()&&"Z"==c[2][0].toUpperCase(),ht=st,ft=c.length;ht<ft;ht++){if(et.push(ut=[]),(tt=(lt=c[ht])[0])!=tt.toUpperCase())switch(ut[0]=tt.toUpperCase(),ut[0]){case"A":ut[1]=lt[1],ut[2]=lt[2],ut[3]=lt[3],ut[4]=lt[4],ut[5]=lt[5],ut[6]=+lt[6]+rt,ut[7]=+lt[7]+it;break;case"V":ut[1]=+lt[1]+it;break;case"H":ut[1]=+lt[1]+rt;break;case"R":for(var pt=[rt,it].concat(lt.slice(1)),dt=2,gt=pt.length;dt<gt;dt++)pt[dt]=+pt[dt]+rt,pt[++dt]=+pt[dt]+it;et.pop(),et=et.concat(catmullRom2bezier(pt,ct));break;case"O":et.pop(),(pt=ellipsePath(rt,it,lt[1],lt[2])).push(pt[0]),et=et.concat(pt);break;case"U":et.pop(),et=et.concat(ellipsePath(rt,it,lt[1],lt[2],lt[3])),ut=["U"].concat(et[et.length-1].slice(-2));break;case"M":at=+lt[1]+rt,ot=+lt[2]+it;default:for(dt=1,gt=lt.length;dt<gt;dt++)ut[dt]=+lt[dt]+(dt%2?rt:it)}else if("R"==tt)pt=[rt,it].concat(lt.slice(1)),et.pop(),et=et.concat(catmullRom2bezier(pt,ct)),ut=["R"].concat(lt.slice(-2));else if("O"==tt)et.pop(),(pt=ellipsePath(rt,it,lt[1],lt[2])).push(pt[0]),et=et.concat(pt);else if("U"==tt)et.pop(),et=et.concat(ellipsePath(rt,it,lt[1],lt[2],lt[3])),ut=["U"].concat(et[et.length-1].slice(-2));else for(var mt=0,vt=lt.length;mt<vt;mt++)ut[mt]=lt[mt];if("O"!=(tt=tt.toUpperCase()))switch(ut[0]){case"Z":rt=+at,it=+ot;break;case"H":rt=ut[1];break;case"V":it=ut[1];break;case"M":at=ut[ut.length-2],ot=ut[ut.length-1];default:rt=ut[ut.length-2],it=ut[ut.length-1]}}return et.toString=toString,d.abs=pathClone(et),et}function l2c(a,c,d,tt){return[a,c,d,tt,d,tt]}function q2c(a,c,d,tt,et,nt){return[1/3*a+2/3*d,1/3*c+2/3*tt,1/3*et+2/3*d,1/3*nt+2/3*tt,et,nt]}function a2c(c,d,tt,et,nt,rt,it,at,ut,lt){var ct,ft=120*st/180,pt=st/180*(+nt||0),dt=[],gt=a._.cacher((function(a,c,d){return{x:a*ot.cos(d)-c*ot.sin(d),y:a*ot.sin(d)+c*ot.cos(d)}}));if(!tt||!et)return[c,d,at,ut,at,ut];if(lt)wt=lt[0],Et=lt[1],St=lt[2],Ct=lt[3];else{c=(ct=gt(c,d,-pt)).x,d=ct.y,at=(ct=gt(at,ut,-pt)).x,ut=ct.y;ot.cos(st/180*nt),ot.sin(st/180*nt);var mt=(c-at)/2,vt=(d-ut)/2,yt=mt*mt/(tt*tt)+vt*vt/(et*et);yt>1&&(tt*=yt=ot.sqrt(yt),et*=yt);var xt=tt*tt,bt=et*et,Ft=(rt==it?-1:1)*ot.sqrt(ht((xt*bt-xt*vt*vt-bt*mt*mt)/(xt*vt*vt+bt*mt*mt))),St=Ft*tt*vt/et+(c+at)/2,Ct=Ft*-et*mt/tt+(d+ut)/2,wt=ot.asin(((d-Ct)/et).toFixed(9)),Et=ot.asin(((ut-Ct)/et).toFixed(9));(wt=c<St?st-wt:wt)<0&&(wt=2*st+wt),(Et=at<St?st-Et:Et)<0&&(Et=2*st+Et),it&&wt>Et&&(wt-=2*st),!it&&Et>wt&&(Et-=2*st)}var Tt=Et-wt;if(ht(Tt)>ft){var At=Et,Bt=at,kt=ut;Et=wt+ft*(it&&Et>wt?1:-1),dt=a2c(at=St+tt*ot.cos(Et),ut=Ct+et*ot.sin(Et),tt,et,nt,0,it,Bt,kt,[Et,At,St,Ct])}Tt=Et-wt;var Dt=ot.cos(wt),Pt=ot.sin(wt),_t=ot.cos(Et),Mt=ot.sin(Et),It=ot.tan(Tt/4),Nt=4/3*tt*It,Ot=4/3*et*It,zt=[c,d],Lt=[c+Nt*Pt,d-Ot*Dt],jt=[at+Nt*Mt,ut-Ot*_t],qt=[at,ut];if(Lt[0]=2*zt[0]-Lt[0],Lt[1]=2*zt[1]-Lt[1],lt)return[Lt,jt,qt].concat(dt);for(var Rt=[],Vt=0,Gt=(dt=[Lt,jt,qt].concat(dt).join().split(",")).length;Vt<Gt;Vt++)Rt[Vt]=Vt%2?gt(dt[Vt-1],dt[Vt],pt).y:gt(dt[Vt],dt[Vt+1],pt).x;return Rt}function curveDim(a,c,d,tt,et,nt,rt,it){for(var at,st,ct,ft,pt,dt,gt,mt,vt=[],yt=[[],[]],xt=0;xt<2;++xt)if(0==xt?(st=6*a-12*d+6*et,at=-3*a+9*d-9*et+3*rt,ct=3*d-3*a):(st=6*c-12*tt+6*nt,at=-3*c+9*tt-9*nt+3*it,ct=3*tt-3*c),ht(at)<1e-12){if(ht(st)<1e-12)continue;0<(ft=-ct/st)&&ft<1&&vt.push(ft)}else gt=st*st-4*ct*at,mt=ot.sqrt(gt),gt<0||(0<(pt=(-st+mt)/(2*at))&&pt<1&&vt.push(pt),0<(dt=(-st-mt)/(2*at))&&dt<1&&vt.push(dt));for(var bt,Ft=vt.length,St=Ft;Ft--;)bt=1-(ft=vt[Ft]),yt[0][Ft]=bt*bt*bt*a+3*bt*bt*ft*d+3*bt*ft*ft*et+ft*ft*ft*rt,yt[1][Ft]=bt*bt*bt*c+3*bt*bt*ft*tt+3*bt*ft*ft*nt+ft*ft*ft*it;return yt[0][St]=a,yt[1][St]=c,yt[0][St+1]=rt,yt[1][St+1]=it,yt[0].length=yt[1].length=St+2,{min:{x:ut.apply(0,yt[0]),y:ut.apply(0,yt[1])},max:{x:lt.apply(0,yt[0]),y:lt.apply(0,yt[1])}}}function path2curve(a,c){var d=!c&&paths(a);if(!c&&d.curve)return pathClone(d.curve);for(var tt=pathToAbsolute(a),et=c&&pathToAbsolute(c),nt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},rt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},processPath=function(a,c,d){var tt,et;if(!a)return["C",c.x,c.y,c.x,c.y,c.x,c.y];switch(!(a[0]in{T:1,Q:1})&&(c.qx=c.qy=null),a[0]){case"M":c.X=a[1],c.Y=a[2];break;case"A":a=["C"].concat(a2c.apply(0,[c.x,c.y].concat(a.slice(1))));break;case"S":"C"==d||"S"==d?(tt=2*c.x-c.bx,et=2*c.y-c.by):(tt=c.x,et=c.y),a=["C",tt,et].concat(a.slice(1));break;case"T":"Q"==d||"T"==d?(c.qx=2*c.x-c.qx,c.qy=2*c.y-c.qy):(c.qx=c.x,c.qy=c.y),a=["C"].concat(q2c(c.x,c.y,c.qx,c.qy,a[1],a[2]));break;case"Q":c.qx=a[1],c.qy=a[2],a=["C"].concat(q2c(c.x,c.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(l2c(c.x,c.y,a[1],a[2]));break;case"H":a=["C"].concat(l2c(c.x,c.y,a[1],c.y));break;case"V":a=["C"].concat(l2c(c.x,c.y,c.x,a[1]));break;case"Z":a=["C"].concat(l2c(c.x,c.y,c.X,c.Y))}return a},fixArc=function(a,c){if(a[c].length>7){a[c].shift();for(var d=a[c];d.length;)it[c]="A",et&&(ot[c]="A"),a.splice(c++,0,["C"].concat(d.splice(0,6)));a.splice(c,1),ht=lt(tt.length,et&&et.length||0)}},fixM=function(a,c,d,nt,rt){a&&c&&"M"==a[rt][0]&&"M"!=c[rt][0]&&(c.splice(rt,0,["M",nt.x,nt.y]),d.bx=0,d.by=0,d.x=a[rt][1],d.y=a[rt][2],ht=lt(tt.length,et&&et.length||0))},it=[],ot=[],st="",ut="",ct=0,ht=lt(tt.length,et&&et.length||0);ct<ht;ct++){tt[ct]&&(st=tt[ct][0]),"C"!=st&&(it[ct]=st,ct&&(ut=it[ct-1])),tt[ct]=processPath(tt[ct],nt,ut),"A"!=it[ct]&&"C"==st&&(it[ct]="C"),fixArc(tt,ct),et&&(et[ct]&&(st=et[ct][0]),"C"!=st&&(ot[ct]=st,ct&&(ut=ot[ct-1])),et[ct]=processPath(et[ct],rt,ut),"A"!=ot[ct]&&"C"==st&&(ot[ct]="C"),fixArc(et,ct)),fixM(tt,et,nt,rt,ct),fixM(et,tt,rt,nt,ct);var ft=tt[ct],pt=et&&et[ct],dt=ft.length,gt=et&&pt.length;nt.x=ft[dt-2],nt.y=ft[dt-1],nt.bx=at(ft[dt-4])||nt.x,nt.by=at(ft[dt-3])||nt.y,rt.bx=et&&(at(pt[gt-4])||rt.x),rt.by=et&&(at(pt[gt-3])||rt.y),rt.x=et&&pt[gt-2],rt.y=et&&pt[gt-1]}return et||(d.curve=pathClone(tt)),et?[tt,et]:tt}function catmullRom2bezier(a,c){for(var d=[],tt=0,et=a.length;et-2*!c>tt;tt+=2){var nt=[{x:+a[tt-2],y:+a[tt-1]},{x:+a[tt],y:+a[tt+1]},{x:+a[tt+2],y:+a[tt+3]},{x:+a[tt+4],y:+a[tt+5]}];c?tt?et-4==tt?nt[3]={x:+a[0],y:+a[1]}:et-2==tt&&(nt[2]={x:+a[0],y:+a[1]},nt[3]={x:+a[2],y:+a[3]}):nt[0]={x:+a[et-2],y:+a[et-1]}:et-4==tt?nt[3]=nt[2]:tt||(nt[0]={x:+a[tt],y:+a[tt+1]}),d.push(["C",(-nt[0].x+6*nt[1].x+nt[2].x)/6,(-nt[0].y+6*nt[1].y+nt[2].y)/6,(nt[1].x+6*nt[2].x-nt[3].x)/6,(nt[1].y+6*nt[2].y-nt[3].y)/6,nt[2].x,nt[2].y])}return d}a.path=paths,a.path.getTotalLength=ft,a.path.getPointAtLength=pt,a.path.getSubpath=function(a,c,d){if(this.getTotalLength(a)-d<1e-6)return dt(a,c).end;var tt=dt(a,d,1);return c?dt(tt,c).end:tt},et.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()},et.getPointAtLength=function(a){return pt(this.attr("d"),a)},et.getSubpath=function(c,d){return a.path.getSubpath(this.attr("d"),c,d)},a._.box=box,a.path.findDotsAtSegment=findDotsAtSegment,a.path.bezierBBox=bezierBBox,a.path.isPointInsideBBox=isPointInsideBBox,a.closest=function(c,d,tt,et){for(var nt=100,rt=box(c-nt/2,d-nt/2,nt,nt),it=[],at=tt[0].hasOwnProperty("x")?function(a){return{x:tt[a].x,y:tt[a].y}}:function(a){return{x:tt[a],y:et[a]}},ot=0;nt<=1e6&&!ot;){for(var st=0,ut=tt.length;st<ut;st++){var lt=at(st);if(isPointInsideBBox(rt,lt.x,lt.y)){ot++,it.push(lt);break}}ot||(rt=box(c-(nt*=2)/2,d-nt/2,nt,nt))}if(1e6!=nt){var ct,ht=1/0;for(st=0,ut=it.length;st<ut;st++){var ft=a.len(c,d,it[st].x,it[st].y);ht>ft&&(ht=ft,it[st].len=ft,ct=it[st])}return ct}},a.path.isBBoxIntersect=isBBoxIntersect,a.path.intersection=function pathIntersection(a,c){return interPathHelper(a,c)},a.path.intersectionNumber=function pathIntersectionNumber(a,c){return interPathHelper(a,c,1)},a.path.isPointInside=function isPointInsidePath(a,c,d){var tt=pathBBox(a);return isPointInsideBBox(tt,c,d)&&interPathHelper(a,[["M",c,d],["H",tt.x2+10]],1)%2==1},a.path.getBBox=pathBBox,a.path.get=mt,a.path.toRelative=function pathToRelative(c){var d=paths(c),tt=String.prototype.toLowerCase;if(d.rel)return pathClone(d.rel);a.is(c,"array")&&a.is(c&&c[0],"array")||(c=a.parsePathString(c));var et=[],nt=0,rt=0,it=0,at=0,ot=0;"M"==c[0][0]&&(it=nt=c[0][1],at=rt=c[0][2],ot++,et.push(["M",nt,rt]));for(var st=ot,ut=c.length;st<ut;st++){var lt=et[st]=[],ct=c[st];if(ct[0]!=tt.call(ct[0]))switch(lt[0]=tt.call(ct[0]),lt[0]){case"a":lt[1]=ct[1],lt[2]=ct[2],lt[3]=ct[3],lt[4]=ct[4],lt[5]=ct[5],lt[6]=+(ct[6]-nt).toFixed(3),lt[7]=+(ct[7]-rt).toFixed(3);break;case"v":lt[1]=+(ct[1]-rt).toFixed(3);break;case"m":it=ct[1],at=ct[2];default:for(var ht=1,ft=ct.length;ht<ft;ht++)lt[ht]=+(ct[ht]-(ht%2?nt:rt)).toFixed(3)}else{lt=et[st]=[],"m"==ct[0]&&(it=ct[1]+nt,at=ct[2]+rt);for(var pt=0,dt=ct.length;pt<dt;pt++)et[st][pt]=ct[pt]}var gt=et[st].length;switch(et[st][0]){case"z":nt=it,rt=at;break;case"h":nt+=+et[st][gt-1];break;case"v":rt+=+et[st][gt-1];break;default:nt+=+et[st][gt-2],rt+=+et[st][gt-1]}}return et.toString=toString,d.rel=pathClone(et),et},a.path.toAbsolute=pathToAbsolute,a.path.toCubic=path2curve,a.path.map=function mapPath(a,c){if(!c)return a;var d,tt,et,nt,rt,it,at;for(et=0,rt=(a=path2curve(a)).length;et<rt;et++)for(nt=1,it=(at=a[et]).length;nt<it;nt+=2)d=c.x(at[nt],at[nt+1]),tt=c.y(at[nt],at[nt+1]),at[nt]=d,at[nt+1]=tt;return a},a.path.toString=toString,a.path.clone=pathClone})),tt.plugin((function(a,tt,et,nt){var rt=Math.max,it=Math.min,Set=function(a){if(this.items=[],this.bindings={},this.length=0,this.type="set",a)for(var c=0,d=a.length;c<d;c++)a[c]&&(this[this.items.length]=this.items[this.items.length]=a[c],this.length++)},at=Set.prototype;at.push=function(){for(var a,c,d=0,tt=arguments.length;d<tt;d++)(a=arguments[d])&&(this[c=this.items.length]=this.items[c]=a,this.length++);return this},at.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},at.forEach=function(a,c){for(var d=0,tt=this.items.length;d<tt;d++)if(!1===a.call(c,this.items[d],d))return this;return this},at.animate=function(tt,et,nt,rt){"function"!=typeof nt||nt.length||(rt=nt,nt=d.linear),tt instanceof a._.Animation&&(rt=tt.callback,nt=tt.easing,et=nt.dur,tt=tt.attr);var it=arguments;if(a.is(tt,"array")&&a.is(it[it.length-1],"array"))var at=!0;var ot,handler=function(){ot?this.b=ot:ot=this.b},st=0,ut=this,lt=rt&&function(){++st==ut.length&&rt.call(this)};return this.forEach((function(a,d){c.once("snap.animcreated."+a.id,handler),at?it[d]&&a.animate.apply(a,it[d]):a.animate(tt,et,nt,lt)}))},at.remove=function(){for(;this.length;)this.pop().remove();return this},at.bind=function(a,c,d){var tt={};if("function"==typeof c)this.bindings[a]=c;else{var et=d||a;this.bindings[a]=function(a){tt[et]=a,c.attr(tt)}}return this},at.attr=function(a){var c={};for(var d in a)this.bindings[d]?this.bindings[d](a[d]):c[d]=a[d];for(var tt=0,et=this.items.length;tt<et;tt++)this.items[tt].attr(c);return this},at.clear=function(){for(;this.length;)this.pop()},at.splice=function(a,c,d){a=a<0?rt(this.length+a,0):a,c=rt(0,it(this.length-a,c));var tt,et=[],nt=[],at=[];for(tt=2;tt<arguments.length;tt++)at.push(arguments[tt]);for(tt=0;tt<c;tt++)nt.push(this[a+tt]);for(;tt<this.length-a;tt++)et.push(this[a+tt]);var ot=at.length;for(tt=0;tt<ot+et.length;tt++)this.items[a+tt]=this[a+tt]=tt<ot?at[tt]:et[tt-ot];for(tt=this.items.length=this.length-=c-ot;this[tt];)delete this[tt++];return new Set(nt)},at.exclude=function(a){for(var c=0,d=this.length;c<d;c++)if(this[c]==a)return this.splice(c,1),!0;return!1},at.insertAfter=function(a){for(var c=this.items.length;c--;)this.items[c].insertAfter(a);return this},at.getBBox=function(){for(var a=[],c=[],d=[],tt=[],et=this.items.length;et--;)if(!this.items[et].removed){var nt=this.items[et].getBBox();a.push(nt.x),c.push(nt.y),d.push(nt.x+nt.width),tt.push(nt.y+nt.height)}return{x:a=it.apply(0,a),y:c=it.apply(0,c),x2:d=rt.apply(0,d),y2:tt=rt.apply(0,tt),width:d-a,height:tt-c,cx:a+(d-a)/2,cy:c+(tt-c)/2}},at.clone=function(a){a=new Set;for(var c=0,d=this.items.length;c<d;c++)a.push(this.items[c].clone());return a},at.toString=function(){return"Snap‘s set"},at.type="set",a.Set=Set,a.set=function(){var a=new Set;return arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0)),a}})),tt.plugin((function(a,d,tt,et){var nt={},rt=/[%a-z]+$/i,it=String;function getEmpty(a){var c=a[0];switch(c.toLowerCase()){case"t":return[c,0,0];case"m":return[c,1,0,0,1,0,0];case"r":return 4==a.length?[c,0,a[2],a[3]]:[c,0];case"s":return 5==a.length?[c,1,1,a[3],a[4]]:3==a.length?[c,1,1]:[c,1]}}function getNumber(a){return a}function getViewBox(a){return a.join(" ")}function getColour(c){return a.rgb(c[0],c[1],c[2],c[3])}function getPath(a){var c,d,tt,et,nt,rt,it=0,at=[];for(c=0,d=a.length;c<d;c++){for(nt="[",rt=['"'+a[c][0]+'"'],tt=1,et=a[c].length;tt<et;tt++)rt[tt]="val["+it+++"]";nt+=rt+"]",at[c]=nt}return Function("val","return Snap.path.toString.call(["+at+"])")}function path2array(a){for(var c=[],d=0,tt=a.length;d<tt;d++)for(var et=1,nt=a[d].length;et<nt;et++)c.push(a[d][et]);return c}function isNumeric(a){return isFinite(a)}nt.stroke=nt.fill="colour",d.prototype.equal=function(a,d){return c("snap.util.equal",this,a,d).firstDefined()},c.on("snap.util.equal",(function(c,d){var tt,et,at=it(this.attr(c)||""),ot=this;if("colour"==nt[c])return tt=a.color(at),et=a.color(d),{from:[tt.r,tt.g,tt.b,tt.opacity],to:[et.r,et.g,et.b,et.opacity],f:getColour};if("viewBox"==c)return{from:tt=this.attr(c).vb.split(" ").map(Number),to:et=d.split(" ").map(Number),f:getViewBox};if("transform"==c||"gradientTransform"==c||"patternTransform"==c)return"string"==typeof d&&(d=it(d).replace(/\.{3}|\u2026/g,at)),function equaliseTransform(c,d,tt){c=c||new a.Matrix,d=d||new a.Matrix,c=a.parseTransformString(c.toTransformString())||[],d=a.parseTransformString(d.toTransformString())||[];for(var et,nt,rt,it,at=Math.max(c.length,d.length),ot=[],st=[],ut=0;ut<at;ut++){if(rt=c[ut]||getEmpty(d[ut]),it=d[ut]||getEmpty(rt),rt[0]!=it[0]||"r"==rt[0].toLowerCase()&&(rt[2]!=it[2]||rt[3]!=it[3])||"s"==rt[0].toLowerCase()&&(rt[3]!=it[3]||rt[4]!=it[4])){c=a._.transform2matrix(c,tt()),d=a._.transform2matrix(d,tt()),ot=[["m",c.a,c.b,c.c,c.d,c.e,c.f]],st=[["m",d.a,d.b,d.c,d.d,d.e,d.f]];break}for(ot[ut]=[],st[ut]=[],et=0,nt=Math.max(rt.length,it.length);et<nt;et++)et in rt&&(ot[ut][et]=rt[et]),et in it&&(st[ut][et]=it[et])}return{from:path2array(ot),to:path2array(st),f:getPath(ot)}}(at=this.matrix,d=a._.rgTransform.test(d)?a._.transform2matrix(d,this.getBBox()):a._.transform2matrix(a._.svgTransform2string(d),this.getBBox()),(function(){return ot.getBBox(1)}));if("d"==c||"path"==c)return{from:path2array((tt=a.path.toCubic(at,d))[0]),to:path2array(tt[1]),f:getPath(tt[0])};if("points"==c)return{from:tt=it(at).split(a._.separator),to:et=it(d).split(a._.separator),f:function(a){return a}};if(isNumeric(at)&&isNumeric(d))return{from:parseFloat(at),to:parseFloat(d),f:getNumber};var st,ut=at.match(rt),lt=it(d).match(rt);return ut&&function arrayEqual(c,d){return!(!a.is(c,"array")||!a.is(d,"array"))&&c.toString()==d.toString()}(ut,lt)?{from:parseFloat(at),to:parseFloat(d),f:(st=ut,function(a){return+a.toFixed(3)+st})}:{from:this.asPX(c),to:this.asPX(c,d),f:getNumber}}))})),tt.plugin((function(a,d,tt,et){for(var nt=d.prototype,rt=("createTouch"in et.doc),it=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],at={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},getScroll=function(a,c){var d="y"==a?"scrollTop":"scrollLeft",tt=c&&c.node?c.node.ownerDocument:et.doc;return tt[d in tt.documentElement?"documentElement":"body"][d]},preventTouch=function(){return this.originalEvent.preventDefault()},stopTouch=function(){return this.originalEvent.stopPropagation()},addEvent=function(a,c,d,tt){var et=rt&&at[c]?at[c]:c,f=function(et){var nt=getScroll("y",tt),it=getScroll("x",tt);if(rt&&at.hasOwnProperty(c))for(var ot=0,st=et.targetTouches&&et.targetTouches.length;ot<st;ot++)if(et.targetTouches[ot].target==a||a.contains(et.targetTouches[ot].target)){var ut=et;(et=et.targetTouches[ot]).originalEvent=ut,et.preventDefault=preventTouch,et.stopPropagation=stopTouch;break}var lt=et.clientX+it,ct=et.clientY+nt;return d.call(tt,et,lt,ct)};return c!==et&&a.addEventListener(c,f,!1),a.addEventListener(et,f,!1),function(){return c!==et&&a.removeEventListener(c,f,!1),a.removeEventListener(et,f,!1),!0}},ot=[],dragMove=function(a){for(var d,tt=a.clientX,et=a.clientY,nt=getScroll("y"),it=getScroll("x"),at=ot.length;at--;){if(d=ot[at],rt){for(var st,ut=a.touches&&a.touches.length;ut--;)if((st=a.touches[ut]).identifier==d.el._drag.id||d.el.node.contains(st.target)){tt=st.clientX,et=st.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var lt=d.el.node;lt.nextSibling,lt.parentNode,lt.style.display;tt+=it,et+=nt,c("snap.drag.move."+d.el.id,d.move_scope||d.el,tt-d.el._drag.x,et-d.el._drag.y,tt,et,a)}},dragUp=function(d){a.unmousemove(dragMove).unmouseup(dragUp);for(var tt,et=ot.length;et--;)(tt=ot[et]).el._drag={},c("snap.drag.end."+tt.el.id,tt.end_scope||tt.start_scope||tt.move_scope||tt.el,d),c.off("snap.drag.*."+tt.el.id);ot=[]},st=it.length;st--;)!function(c){a[c]=nt[c]=function(d,tt){if(a.is(d,"function"))this.events=this.events||[],this.events.push({name:c,f:d,unbind:addEvent(this.node||document,c,d,tt||this)});else for(var et=0,nt=this.events.length;et<nt;et++)if(this.events[et].name==c)try{this.events[et].f.call(this)}catch(a){}return this},a["un"+c]=nt["un"+c]=function(a){for(var d=this.events||[],tt=d.length;tt--;)if(d[tt].name==c&&(d[tt].f==a||!a))return d[tt].unbind(),d.splice(tt,1),!d.length&&delete this.events,this;return this}}(it[st]);nt.hover=function(a,c,d,tt){return this.mouseover(a,d).mouseout(c,tt||d)},nt.unhover=function(a,c){return this.unmouseover(a).unmouseout(c)};var ut=[];nt.drag=function(d,tt,et,nt,rt,it){var at,st=this;if(!arguments.length)return st.drag((function(a,c){this.attr({transform:at+(at?"T":"t")+[a,c]})}),(function(){at=this.transform().local}));function start(at,ut,lt){(at.originalEvent||at).preventDefault(),st._drag.x=ut,st._drag.y=lt,st._drag.id=at.identifier,!ot.length&&a.mousemove(dragMove).mouseup(dragUp),ot.push({el:st,move_scope:nt,start_scope:rt,end_scope:it}),tt&&c.on("snap.drag.start."+st.id,tt),d&&c.on("snap.drag.move."+st.id,d),et&&c.on("snap.drag.end."+st.id,et),c("snap.drag.start."+st.id,rt||nt||st,ut,lt,at)}function init(a,d,tt){c("snap.draginit."+st.id,st,a,d,tt)}return c.on("snap.draginit."+st.id,start),st._drag={},ut.push({el:st,start:start,init:init}),st.mousedown(init),st},nt.undrag=function(){for(var d=ut.length;d--;)ut[d].el==this&&(this.unmousedown(ut[d].init),ut.splice(d,1),c.unbind("snap.drag.*."+this.id),c.unbind("snap.draginit."+this.id));return!ut.length&&a.unmousemove(dragMove).unmouseup(dragUp),this}})),tt.plugin((function(a,d,tt,et){d.prototype;var nt=tt.prototype,rt=/^\s*url\((.+)\)/,it=String,at=a._.$;a.filter={},nt.filter=function(c){var tt=this;"svg"!=tt.type&&(tt=tt.paper);var et=a.parse(it(c)),nt=a._.id(),rt=(tt.node.offsetWidth,tt.node.offsetHeight,at("filter"));return at(rt,{id:nt,filterUnits:"userSpaceOnUse"}),rt.appendChild(et.node),tt.defs.appendChild(rt),new d(rt)},c.on("snap.util.getattr.filter",(function(){c.stop();var d=at(this.node,"filter");if(d){var tt=it(d).match(rt);return tt&&a.select(tt[1])}})),c.on("snap.util.attr.filter",(function(tt){if(tt instanceof d&&"filter"==tt.type){c.stop();var et=tt.node.id;et||(at(tt.node,{id:tt.id}),et=tt.id),at(this.node,{filter:a.url(et)})}tt&&"none"!=tt||(c.stop(),this.node.removeAttribute("filter"))})),a.filter.blur=function(c,d){null==c&&(c=2);var tt=null==d?c:[c,d];return a.format('<feGaussianBlur stdDeviation="{def}"/>',{def:tt})},a.filter.blur.toString=function(){return this()},a.filter.shadow=function(c,d,tt,et,nt){return null==nt&&(null==et?(nt=tt,tt=4,et="#000"):(nt=et,et=tt,tt=4)),null==tt&&(tt=4),null==nt&&(nt=1),null==c&&(c=0,d=2),null==d&&(d=c),et=a.color(et),a.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:et,dx:c,dy:d,blur:tt,opacity:nt})},a.filter.shadow.toString=function(){return this()},a.filter.grayscale=function(c){return null==c&&(c=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-c),b:.7152-.7152*(1-c),c:.0722-.0722*(1-c),d:.2126-.2126*(1-c),e:.7152+.2848*(1-c),f:.0722-.0722*(1-c),g:.2126-.2126*(1-c),h:.0722+.9278*(1-c)})},a.filter.grayscale.toString=function(){return this()},a.filter.sepia=function(c){return null==c&&(c=1),a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-c),b:.769-.769*(1-c),c:.189-.189*(1-c),d:.349-.349*(1-c),e:.686+.314*(1-c),f:.168-.168*(1-c),g:.272-.272*(1-c),h:.534-.534*(1-c),i:.131+.869*(1-c)})},a.filter.sepia.toString=function(){return this()},a.filter.saturate=function(c){return null==c&&(c=1),a.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-c})},a.filter.saturate.toString=function(){return this()},a.filter.hueRotate=function(c){return c=c||0,a.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:c})},a.filter.hueRotate.toString=function(){return this()},a.filter.invert=function(c){return null==c&&(c=1),a.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:c,amount2:1-c})},a.filter.invert.toString=function(){return this()},a.filter.brightness=function(c){return null==c&&(c=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:c})},a.filter.brightness.toString=function(){return this()},a.filter.contrast=function(c){return null==c&&(c=1),a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:c,amount2:.5-c/2})},a.filter.contrast.toString=function(){return this()}})),tt.plugin((function(a,c,d,tt,et){var nt=a._.box,rt=a.is,it=/^[^a-z]*([tbmlrc])/i,toString=function(){return"T"+this.dx+","+this.dy};c.prototype.getAlign=function(a,c){null==c&&rt(a,"string")&&(c=a,a=null);var d=(a=a||this.paper).getBBox?a.getBBox():nt(a),tt=this.getBBox(),et={};switch(c=(c=c&&c.match(it))?c[1].toLowerCase():"c"){case"t":et.dx=0,et.dy=d.y-tt.y;break;case"b":et.dx=0,et.dy=d.y2-tt.y2;break;case"m":et.dx=0,et.dy=d.cy-tt.cy;break;case"l":et.dx=d.x-tt.x,et.dy=0;break;case"r":et.dx=d.x2-tt.x2,et.dy=0;break;default:et.dx=d.cx-tt.cx,et.dy=0}return et.toString=toString,et},c.prototype.align=function(a,c){return this.transform("..."+this.getAlign(a,c))}})),tt.plugin((function(c,d,tt,et){function saveColor(a){a=a.split(/(?=#)/);var c=new String(a[5]);return c[50]=a[0],c[100]=a[1],c[200]=a[2],c[300]=a[3],c[400]=a[4],c[500]=a[5],c[600]=a[6],c[700]=a[7],c[800]=a[8],c[900]=a[9],a[10]&&(c.A100=a[10],c.A200=a[11],c.A400=a[12],c.A700=a[13]),c}c.mui={},c.flat={},c.mui.red=saveColor("#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000"),c.mui.pink=saveColor("#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162"),c.mui.purple=saveColor("#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF"),c.mui.deeppurple=saveColor("#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA"),c.mui.indigo=saveColor("#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE"),c.mui.blue=saveColor("#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF"),c.mui.lightblue=saveColor("#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA"),c.mui.cyan=saveColor("#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4"),c.mui.teal=saveColor("#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5"),c.mui.green=saveColor("#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853"),c.mui.lightgreen=saveColor("#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17"),c.mui.lime=saveColor("#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00"),c.mui.yellow=saveColor("#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600"),c.mui.amber=saveColor("#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00"),c.mui.orange=saveColor("#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00"),c.mui.deeporange=saveColor("#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00"),c.mui.brown=saveColor("#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723"),c.mui.grey=saveColor("#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121"),c.mui.bluegrey=saveColor("#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238"),c.flat.turquoise="#1abc9c",c.flat.greensea="#16a085",c.flat.sunflower="#f1c40f",c.flat.orange="#f39c12",c.flat.emerland="#2ecc71",c.flat.nephritis="#27ae60",c.flat.carrot="#e67e22",c.flat.pumpkin="#d35400",c.flat.peterriver="#3498db",c.flat.belizehole="#2980b9",c.flat.alizarin="#e74c3c",c.flat.pomegranate="#c0392b",c.flat.amethyst="#9b59b6",c.flat.wisteria="#8e44ad",c.flat.clouds="#ecf0f1",c.flat.silver="#bdc3c7",c.flat.wetasphalt="#34495e",c.flat.midnightblue="#2c3e50",c.flat.concrete="#95a5a6",c.flat.asbestos="#7f8c8d",c.importMUIColors=function(){for(var d in c.mui)c.mui.hasOwnProperty(d)&&(a[d]=c.mui[d])}})),tt})),function(a,c){"use strict";if(!a.setImmediate){var d,tt=1,et={},nt=!1,rt=a.document,it=Object.getPrototypeOf&&Object.getPrototypeOf(a);it=it&&it.setTimeout?it:a,"[object process]"==={}.toString.call(a.process)?function installNextTickImplementation(){d=function(a){process.nextTick((function(){runIfPresent(a)}))}}():!function canUsePostMessage(){if(a.postMessage&&!a.importScripts){var c=!0,d=a.onmessage;return a.onmessage=function(){c=!1},a.postMessage("","*"),a.onmessage=d,c}}()?a.MessageChannel?function installMessageChannelImplementation(){var a=new MessageChannel;a.port1.onmessage=function(a){runIfPresent(a.data)},d=function(c){a.port2.postMessage(c)}}():rt&&"onreadystatechange"in rt.createElement("script")?function installReadyStateChangeImplementation(){var a=rt.documentElement;d=function(c){var d=rt.createElement("script");d.onreadystatechange=function(){runIfPresent(c),d.onreadystatechange=null,a.removeChild(d),d=null},a.appendChild(d)}}():function installSetTimeoutImplementation(){d=function(a){setTimeout(runIfPresent,0,a)}}():function installPostMessageImplementation(){var c="setImmediate$"+Math.random()+"$",onGlobalMessage=function(d){d.source===a&&"string"==typeof d.data&&0===d.data.indexOf(c)&&runIfPresent(+d.data.slice(c.length))};a.addEventListener?a.addEventListener("message",onGlobalMessage,!1):a.attachEvent("onmessage",onGlobalMessage),d=function(d){a.postMessage(c+d,"*")}}(),it.setImmediate=function setImmediate(a){"function"!=typeof a&&(a=new Function(""+a));for(var c=new Array(arguments.length-1),nt=0;nt<c.length;nt++)c[nt]=arguments[nt+1];var rt={callback:a,args:c};return et[tt]=rt,d(tt),tt++},it.clearImmediate=clearImmediate}function clearImmediate(a){delete et[a]}function runIfPresent(a){if(nt)setTimeout(runIfPresent,0,a);else{var c=et[a];if(c){nt=!0;try{!function run(a){var c=a.callback,d=a.args;switch(d.length){case 0:c();break;case 1:c(d[0]);break;case 2:c(d[0],d[1]);break;case 3:c(d[0],d[1],d[2]);break;default:c.apply(void 0,d)}}(c)}finally{clearImmediate(a),nt=!1}}}}}(window),VisiWin.Application.modulEnd("VisiWinJS.js");